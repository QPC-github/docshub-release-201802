
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Go&#47;format - Go - W3cubDocs</title>
  
  <meta name="description" content=" Package format implements standard formatting of Go source. ">
  <meta name="keywords" content="package, format, go, -">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/go/go/format/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-e0f881b0fce8cbe96f33dadc355b7159d5d2912911231446d60eb8f9caffa802.css">
  <script type="text/javascript" src="/assets/application-8fc46316434047265cd383f02b8e7f434ed7dec4a59f920dd633deef8d488d1b.js"></script>
  <script src="/json/go.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/go/" class="_nav-link" title="" style="margin-left:0;">Go</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _go">
				
<h1> Package format  </h1>     <ul id="short-nav">
<li><code>import "go/format"</code></li>
<li><a href="#pkg-overview" class="overviewLink">Overview</a></li>
<li><a href="#pkg-index" class="indexLink">Index</a></li>
<li><a href="#pkg-examples" class="examplesLink">Examples</a></li>
</ul>     <h2>Overview </h2> <p> Package format implements standard formatting of Go source. </p>      <h2>Index </h2>  <ul id="manual-nav">
<li><a href="#Node">func Node(dst io.Writer, fset *token.FileSet, node interface{}) error</a></li>
<li><a href="#Source">func Source(src []byte) ([]byte, error)</a></li>
</ul> <div id="pkg-examples"> <h3>Examples</h3> <dl> <dd><a class="exampleLink" href="#example_Node">Node</a></dd> </dl> </div> <h3>Package files</h3> <p>  <a href="https://golang.org/src/go/format/format.go" target="_blank">format.go</a> <a href="https://golang.org/src/go/format/internal.go" target="_blank">internal.go</a>  </p>     <h2 id="Node">func Node<a href="https://golang.org/src/go/format/format.go?s=1034:1103#L23" class="source" target="_blank">Source</a>  </h2> <pre data-language="go">func Node(dst io.Writer, fset *token.FileSet, node interface{}) error</pre> <p> Node formats node in canonical gofmt style and writes the result to dst. </p> <p> The node type must be *ast.File, *printer.CommentedNode, []ast.Decl, []ast.Stmt, or assignment-compatible to ast.Expr, ast.Decl, ast.Spec, or ast.Stmt. Node does not modify node. Imports are not sorted for nodes representing partial source files (i.e., if the node is not an *ast.File or a *printer.CommentedNode not wrapping an *ast.File). </p> <p> The function may return early (before the entire result is written) and return a formatting error, for instance due to an incorrect AST. </p>    <h4> <span class="text">Example</span>
</h4> <p>Code:</p> <pre class="code" data-language="go">const expr = "(6+2*3)/4"

// parser.ParseExpr parses the argument and returns the
// corresponding ast.Node.
node, err := parser.ParseExpr(expr)
if err != nil {
        log.Fatal(err)
}

// Create a FileSet for node. Since the node does not come
// from a real source file, fset will be empty.
fset := token.NewFileSet()

var buf bytes.Buffer
err = Node(&amp;buf, fset, node)
if err != nil {
        log.Fatal(err)
}

fmt.Println(buf.String())

</pre> <p>Output:</p> <pre class="output" data-language="go">(6 + 2*3) / 4
</pre>   <h2 id="Source">func Source<a href="https://golang.org/src/go/format/format.go?s=2632:2671#L72" class="source" target="_blank">Source</a>  </h2> <pre data-language="go">func Source(src []byte) ([]byte, error)</pre> <p> Source formats src in canonical gofmt style and returns the result or an (I/O or syntax) error. src is expected to be a syntactically correct Go source file, or a list of Go declarations or statements. </p> <p> If src is a partial source file, the leading and trailing space of src is applied to the result (such that it has the same leading and trailing space as src), and the result is indented by the same amount as the first line of src containing code. Imports are not sorted for partial source files. </p>
<div class="_attribution">
  <p class="_attribution-p">
    Â© Google, Inc.<br>Licensed under the Creative Commons Attribution License 3.0.<br>
    <a href="https://golang.org/pkg/go/format/" class="_attribution-link" target="_blank">https://golang.org/pkg/go/format/</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
