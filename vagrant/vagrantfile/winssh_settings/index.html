
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>WinSSH - Vagrant - W3cubDocs</title>
  
  <meta name="description" content="The WinSSH communicator is built specifically for the Windows native port of OpenSSH. It does not rely on a POSIX-like environment which removes the &hellip;">
  <meta name="keywords" content="winssh, settings, -, vagrant">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/vagrant/vagrantfile/winssh_settings/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-e0f881b0fce8cbe96f33dadc355b7159d5d2912911231446d60eb8f9caffa802.css">
  <script type="text/javascript" src="/assets/application-8fc46316434047265cd383f02b8e7f434ed7dec4a59f920dd633deef8d488d1b.js"></script>
  <script src="/json/vagrant.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/vagrant/" class="_nav-link" title="" style="margin-left:0;">Vagrant</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _vagrant">
				
<h1 id="winssh">  WinSSH </h1> <p>The WinSSH communicator is built specifically for the Windows native port of OpenSSH. It does not rely on a POSIX-like environment which removes the requirement of extra software installation (like cygwin) for proper functionality.</p> <p><em>NOTE: The Windows native port of OpenSSH is still considered "pre-release" and is non-production ready.</em></p> <p>For more information, see the <a href="https://github.com/PowerShell/Win32-OpenSSH/" target="_blank">Win32-OpenSSH project page</a>.</p> <h1 id="winssh-settings">  WinSSH Settings </h1> <p>The WinSSH communicator uses the same connection configuration options as the SSH communicator. These settings provide the information for the communicator to establish a connection to the VM.</p> <p><strong>Config namespace: <code>config.ssh</code></strong></p> <p>The settings within <code>config.ssh</code> relate to configuring how Vagrant will access your machine over SSH. As with most Vagrant settings, the defaults are typically fine, but you can fine tune whatever you would like.</p> <h2 id="available-settings">  Available Settings </h2> <p><code>config.ssh.username</code> - This sets the username that Vagrant will SSH as by default. Providers are free to override this if they detect a more appropriate user. By default this is "vagrant," since that is what most public boxes are made as.</p>  <p><code>config.ssh.password</code> - This sets a password that Vagrant will use to authenticate the SSH user. Note that Vagrant recommends you use key-based authentication rather than a password (see <code>private_key_path</code>) below. If you use a password, Vagrant will automatically insert a keypair if <code>insert_key</code> is true.</p>  <p><code>config.ssh.host</code> - The hostname or IP to SSH into. By default this is empty, because the provider usually figures this out for you.</p>  <p><code>config.ssh.port</code> - The port to SSH into. By default this is port 22.</p>  <p><code>config.ssh.guest_port</code> - The port on the guest that SSH is running on. This is used by some providers to detect forwarded ports for SSH. For example, if this is set to 22 (the default), and Vagrant detects a forwarded port to port 22 on the guest from port 4567 on the host, Vagrant will attempt to use port 4567 to talk to the guest if there is no other option.</p>  <p><code>config.ssh.private_key_path</code> - The path to the private key to use to SSH into the guest machine. By default this is the insecure private key that ships with Vagrant, since that is what public boxes use. If you make your own custom box with a custom SSH key, this should point to that private key.</p> <p>You can also specify multiple private keys by setting this to be an array. This is useful, for example, if you use the default private key to bootstrap the machine, but replace it with perhaps a more secure key later.</p>  <p><code>config.ssh.insert_key</code> - If <code>true</code>, Vagrant will automatically insert a keypair to use for SSH, replacing Vagrant's default insecure key inside the machine if detected. By default, this is true.</p> <p>This only has an effect if you do not already use private keys for authentication or if you are relying on the default insecure key. If you do not have to care about security in your project and want to keep using the default insecure key, set this to <code>false</code>.</p>  <p><code>config.ssh.keys_only</code> - Only use Vagrant-provided SSH private keys (do not use any keys stored in ssh-agent). The default value is <code>true</code>.`</p>  <p><code>config.ssh.paranoid</code> - Perform strict host-key verification. The default value is <code>false</code>.</p> <h1 id="winssh-settings-1">  WinSSH Settings </h1> <p>The configuration options below are specific to the WinSSH communicator.</p> <p><strong>Config namespace: <code>config.winssh</code></strong></p> <h2 id="available-settings-1">  Available Settings </h2> <p><code>config.winssh.forward_agent</code> - If <code>true</code>, agent forwarding over SSH connections is enabled. Defaults to false.</p>  <p><code>config.winssh.forward_env</code> - An array of host environment variables to forward to the guest. If you are familiar with OpenSSH, this corresponds to the <code>SendEnv</code> parameter.</p> <div class="highlight"><pre class="highlight ruby" data-language="ruby">config.winssh.forward_env = ["CUSTOM_VAR"]
</pre></div>
 <p><code>config.winssh.proxy_command</code> - A command-line command to execute that receives the data to send to SSH on stdin. This can be used to proxy the SSH connection. <code>%h</code> in the command is replaced with the host and <code>%p</code> is replaced with the port.</p>  <p><code>config.winssh.keep_alive</code> If <code>true</code>, this setting SSH will send keep-alive packets every 5 seconds by default to keep connections alive.</p>  <p><code>config.winssh.shell</code> - The shell to use when executing SSH commands from Vagrant. By default this is <code>cmd</code>. Valid values are <code>"cmd"</code> or <code>"powershell"</code>. Note that this has no effect on the shell you get when you run <code>vagrant ssh</code>. This configuration option only affects the shell to use when executing commands internally in Vagrant.</p>  <p><code>config.winssh.export_command_template</code> - The template used to generate exported environment variables in the active session. This can be useful when using a Bourne incompatible shell like C shell. The template supports two variables which are replaced with the desired environment variable key and environment variable value: <code>%ENV_KEY%</code> and <code>%ENV_VALUE%</code>. The default template for a <code>cmd</code> configured shell is:</p> <div class="highlight"><pre class="highlight ruby" data-language="ruby">config.winssh.export_command_template = 'set %ENV_KEY%="%ENV_VALUE%"'
</pre></div>
<p>The default template for a <code>powershell</code> configured shell is:</p> <div class="highlight"><pre class="highlight ruby" data-language="ruby">config.winssh.export_command_template = '$env:%ENV_KEY%="%ENV_VALUE%"'
</pre></div>
<p><code>config.winssh.sudo_command</code> - The command to use when executing a command with <code>sudo</code>. This defaults to <code>%c</code> (assumes vagrant user is an administator and needs no escalation). The <code>%c</code> will be replaced by the command that is being executed.</p>  <p><code>config.winssh.upload_directory</code> - The upload directory used on the guest to store scripts for execute. This is set to <code>C:\Windows\Temp</code> by default.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010–2017 Mitchell Hashimoto<br>Licensed under the MPL 2.0 License.<br>
    <a href="https://www.vagrantup.com/docs/vagrantfile/winssh_settings.html" class="_attribution-link" target="_blank">https://www.vagrantup.com/docs/vagrantfile/winssh_settings.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
