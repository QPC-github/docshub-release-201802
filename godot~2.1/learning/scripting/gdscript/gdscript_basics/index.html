
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>GDScript - Godot 2.1 - W3cubDocs</title>
  
  <meta name="description" content="GDScript is a high level, dynamically typed programming language used to create content. It uses a syntax similar to Python (blocks are indent-based &hellip;">
  <meta name="keywords" content="gdscript, -, godot, godot~2.1">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/godot~2.1/learning/scripting/gdscript/gdscript_basics/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-e0f881b0fce8cbe96f33dadc355b7159d5d2912911231446d60eb8f9caffa802.css">
  <script type="text/javascript" src="/assets/application-8fc46316434047265cd383f02b8e7f434ed7dec4a59f920dd633deef8d488d1b.js"></script>
  <script src="/json/godot~2.1.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/godot~2.1/" class="_nav-link" title="" style="margin-left:0;">Godot 2.1</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx_simple">
				
<h1 id="doc-gdscript">GDScript</h1>  <h2 id="introduction">Introduction</h2> <p><em>GDScript</em> is a high level, dynamically typed programming language used to create content. It uses a syntax similar to <a href="https://en.wikipedia.org/wiki/Python_%28programming_language%29" target="_blank">Python</a> (blocks are indent-based and many keywords are similar). Its goal is to be optimized for and tightly integrated with Godot Engine, allowing great flexibility for content creation and integration.</p>  <h3 id="history">History</h3> <p>Initially, Godot was designed to support multiple scripting languages (this ability still exists today). However, only GDScript is in use right now. There is a little history behind this.</p> <p>In the early days, the engine used the <a href="http://www.lua.org" target="_blank">Lua</a> scripting language. Lua is fast, but creating bindings to an object oriented system (by using fallbacks) was complex and slow and took an enormous amount of code. After some experiments with <a href="http://www.python.org" target="_blank">Python</a>, it also proved difficult to embed.</p> <p>The last third party scripting language that was used for shipped games was <a href="http://squirrel-lang.org" target="_blank">Squirrel</a>, but it was dropped as well. At that point, it became evident that a custom scripting language could more optimally make use of Godot’s particular architecture:</p> <ul class="simple"> <li>Godot embeds scripts in nodes. Most languages are not designed with this in mind.</li> <li>Godot uses several built-in data types for 2D and 3D math. Script languages do not provide this, and binding them is inefficient.</li> <li>Godot uses threads heavily for lifting and initializing data from the net or disk. Script interpreters for common languages are not friendly to this.</li> <li>Godot already has a memory management model for resources, most script languages provide their own, which results in duplicate effort and bugs.</li> <li>Binding code is always messy and results in several failure points, unexpected bugs and generally low maintainability.</li> </ul> <p>The result of these considerations is <em>GDScript</em>. The language and interpreter for GDScript ended up being smaller than the binding code itself for Lua and Squirrel, while having equal functionality. With time, having a built-in language has proven to be a huge advantage.</p>   <h3 id="example-of-gdscript">Example of GDScript</h3> <p>Some people can learn better by just taking a look at the syntax, so here’s a simple example of how GDScript looks.</p> <pre data-language="gdscript"># a file is a class!

# inheritance

extends BaseClass

# member variables

var a = 5
var s = "Hello"
var arr = [1, 2, 3]
var dict = {"key":"value", 2:3}

# constants

const answer = 42
const thename = "Charly"

# enums (Godot 2.1.3+)

enum {UNIT_NEUTRAL, UNIT_ENEMY, UNIT_ALLY}
enum Named {THING_1, THING_2, ANOTHER_THING = -1}

# built-in vector types

var v2 = Vector2(1, 2)
var v3 = Vector3(1, 2, 3)

# function

func some_function(param1, param2):
    var local_var = 5

    if param1 &lt; local_var:
        print(param1)
    elif param2 &gt; 5:
        print(param2)
    else:
        print("fail!")

    for i in range(20):
        print(i)

    while(param2 != 0):
        param2 -= 1

    var local_var2 = param1+3
    return local_var2


# inner class

class Something:
    var a = 10

# constructor

func _init():
    print("constructed!")
    var lv = Something.new()
    print(lv.a)
</pre> <p>If you have previous experience with statically typed languages such as C, C++, or C# but never used a dynamically typed one before, it is advised you read this tutorial: <a href="../gdscript_advanced/#doc-gdscript-more-efficiently"><span class="std std-ref">GDScript more efficiently</span></a>.</p>    <h2 id="language">Language</h2> <p>In the following, an overview is given to GDScript. Details, such as which methods are available to arrays or other objects, should be looked up in the linked class descriptions.</p>  <h3 id="identifiers">Identifiers</h3> <p>Any string that restricts itself to alphabetic characters (<code>a</code> to <code>z</code> and <code>A</code> to <code>Z</code>), digits (<code>0</code> to <code>9</code>) and <code>_</code> qualifies as an identifier. Additionally, identifiers must not begin with a digit. Identifiers are case-sensitive (<code>foo</code> is different from <code>FOO</code>).</p>   <h3 id="keywords">Keywords</h3> <p>The following is the list of keywords supported by the language. Since keywords are reserved words (tokens), they can’t be used as identifiers.</p> <table class="docutils">  <thead valign="bottom"> <tr>
<th class="head">Keyword</th> <th class="head">Description</th> </tr> </thead>  <tr>
<td>if</td> <td>See <a href="#if-else-elif">if/else/elif</a>.</td> </tr> <tr>
<td>elif</td> <td>See <a href="#if-else-elif">if/else/elif</a>.</td> </tr> <tr>
<td>else</td> <td>See <a href="#if-else-elif">if/else/elif</a>.</td> </tr> <tr>
<td>for</td> <td>See <a href="#for">for</a>.</td> </tr> <tr>
<td>do</td> <td>Reserved for future implementation of do...while loops.</td> </tr> <tr>
<td>while</td> <td>See <a href="#while">while</a>.</td> </tr> <tr>
<td>switch</td> <td>Reserved for future implementation.</td> </tr> <tr>
<td>case</td> <td>Reserved for future implementation.</td> </tr> <tr>
<td>break</td> <td>Exits the execution of the current <code>for</code> or <code>while</code> loop.</td> </tr> <tr>
<td>continue</td> <td>Immediately skips to the next iteration of the <code>for</code> or <code>while</code> loop.</td> </tr> <tr>
<td>pass</td> <td>Used where a statement is required syntactically but execution of code is undesired, e.g. in empty functions.</td> </tr> <tr>
<td>return</td> <td>Returns a value from a function.</td> </tr> <tr>
<td>class</td> <td>Defines a class.</td> </tr> <tr>
<td>extends</td> <td>Defines what class to extend with the current class. Also tests whether a variable extends a given class.</td> </tr> <tr>
<td>tool</td> <td>Executes the script in the editor.</td> </tr> <tr>
<td>signal</td> <td>Defines a signal.</td> </tr> <tr>
<td>func</td> <td>Defines a function.</td> </tr> <tr>
<td>static</td> <td>Defines a static function. Static member variables are not allowed.</td> </tr> <tr>
<td>const</td> <td>Defines a constant.</td> </tr> <tr>
<td>enum</td> <td>Defines an enum. (Godot 2.1.3+)</td> </tr> <tr>
<td>var</td> <td>Defines a variable.</td> </tr> <tr>
<td>onready</td> <td>Initializes a variable once the Node the script is attached to and its children are part of the scene tree.</td> </tr> <tr>
<td>export</td> <td>Saves a variable along with the resource it’s attached to and makes it visible and modifiable in the editor.</td> </tr> <tr>
<td>setget</td> <td>Defines setter and getter functions for a variable.</td> </tr> <tr>
<td>breakpoint</td> <td>Editor helper for debugger breakpoints.</td> </tr>  </table>   <h3 id="operators">Operators</h3> <p>The following is the list of supported operators and their precedence (TODO, change since this was made to reflect python operators)</p> <table class="docutils">   <tr>
<td><strong>Operator</strong></td> <td><strong>Description</strong></td> </tr> <tr>
<td><code>x[index]</code></td> <td>Subscription, Highest Priority</td> </tr> <tr>
<td><code>x.attribute</code></td> <td>Attribute Reference</td> </tr> <tr>
<td><code>extends</code></td> <td>Instance Type Checker</td> </tr> <tr>
<td><code>~</code></td> <td>Bitwise NOT</td> </tr> <tr>
<td><code>-x</code></td> <td>Negative</td> </tr> <tr>
<td>
<code>*</code> <code>/</code> <code>%</code>
</td> <td>
<p class="first">Multiplication / Division / Remainder</p> <p class="last">NOTE: The result of these operations depends on the operands types. If both are Integers, then the result will be an Integer. That means 1/10 returns 0 instead of 0.1. If at least one of the operands is a float, then the result is a float: float(1)/10 or 1.0/10 return both 0.1.</p> </td> </tr> <tr>
<td>
<code>+</code> <code>-</code>
</td> <td>Addition / Subtraction</td> </tr> <tr>
<td>
<code>&lt;&lt;</code> <code>&gt;&gt;</code>
</td> <td>Bit Shifting</td> </tr> <tr>
<td><code>&amp;</code></td> <td>Bitwise AND</td> </tr> <tr>
<td><code>^</code></td> <td>Bitwise XOR</td> </tr> <tr>
<td><code>|</code></td> <td>Bitwise OR</td> </tr> <tr>
<td>
<code>&lt;</code> <code>&gt;</code> <code>==</code> <code>!=</code> <code>&gt;=</code> <code>&lt;=</code>
</td> <td>Comparisons</td> </tr> <tr>
<td><code>in</code></td> <td>Content Test</td> </tr> <tr>
<td>
<code>!</code> <code>not</code>
</td> <td>Boolean NOT</td> </tr> <tr>
<td>
<code>and</code> <code>&amp;&amp;</code>
</td> <td>Boolean AND</td> </tr> <tr>
<td>
<code>or</code> <code>||</code>
</td> <td>Boolean OR</td> </tr> <tr>
<td><code>if x else</code></td> <td>Ternary if/else (Godot 2.1.3+)</td> </tr> <tr>
<td>
<code>=</code> <code>+=</code> <code>-=</code> <code>*=</code> <code>/=</code> <code>%=</code> <code>&amp;=</code> <code>|=</code>
</td> <td>Assignment, Lowest Priority</td> </tr>  </table>   <h3 id="literals">Literals</h3> <table class="docutils">   <tr>
<td><strong>Literal</strong></td> <td><strong>Type</strong></td> </tr> <tr>
<td><code>45</code></td> <td>Base 10 integer</td> </tr> <tr>
<td><code>0x8F51</code></td> <td>Base 16 (hex) integer</td> </tr> <tr>
<td>
<code>3.14</code>, <code>58.1e-10</code>
</td> <td>Floating point number (real)</td> </tr> <tr>
<td>
<code>"Hello"</code>, <code>"Hi"</code>
</td> <td>Strings</td> </tr> <tr>
<td><code>"""Hello, Dude"""</code></td> <td>Multiline string</td> </tr> <tr>
<td><code>@"Node/Label"</code></td> <td>NodePath or StringName</td> </tr>  </table>   <h3 id="comments">Comments</h3> <p>Anything from a <code>#</code> to the end of the line is ignored and is considered a comment.</p> <pre data-language="gdscript"># This is a comment
</pre>    <h2 id="built-in-types">Built-in types</h2>  <h3 id="basic-built-in-types">Basic built-in types</h3> <p>A variable in GDScript can be assigned to several built-in types.</p>  <h4 id="null">null</h4> <p><code>null</code> is an empty data type that contains no information and can not be assigned any other value.</p>   <h4 id="bool">bool</h4> <p>The Boolean data type can only contain <code>true</code> or <code>false</code>.</p>   <h4 id="int">int</h4> <p>The integer data type can only contain integer numbers, (both negative and positive).</p>   <h4 id="float">float</h4> <p>Used to contain a floating point value (real numbers).</p>   <h4 id="string"><a href="../../../../classes/class_string/#class-string"><span class="std std-ref">String</span></a></h4> <p>A sequence of characters in <a href="https://en.wikipedia.org/wiki/Unicode" target="_blank">Unicode format</a>. Strings can contain the <a href="https://en.wikipedia.org/wiki/Escape_sequences_in_C" target="_blank">standard C escape sequences</a>. GDScript supports <a href="../gdscript_format_string/#doc-gdscript-printf"><span class="std std-ref">format strings aka printf functionality</span></a>.</p>    <h3 id="vector-built-in-types">Vector built-in types</h3>  <h4 id="vector2"><a href="../../../../classes/class_vector2/#class-vector2"><span class="std std-ref">Vector2</span></a></h4> <p>2D vector type containing <code>x</code> and <code>y</code> fields. Can alternatively access fields as <code>width</code> and <code>height</code> for readability. Can also be accessed as array.</p>   <h4 id="rect2"><a href="../../../../classes/class_rect2/#class-rect2"><span class="std std-ref">Rect2</span></a></h4> <p>2D Rectangle type containing two vectors fields: <code>pos</code> and <code>size</code>. Alternatively contains an <code>end</code> field which is <code>pos+size</code>.</p>   <h4 id="vector3"><a href="../../../../classes/class_vector3/#class-vector3"><span class="std std-ref">Vector3</span></a></h4> <p>3D vector type containing <code>x</code>, <code>y</code> and <code>z</code> fields. This can also be accessed as an array.</p>   <h4 id="matrix32"><a href="../../../../classes/class_matrix32/#class-matrix32"><span class="std std-ref">Matrix32</span></a></h4> <p>3x2 matrix used for 2D transforms.</p>   <h4 id="plane"><a href="../../../../classes/class_plane/#class-plane"><span class="std std-ref">Plane</span></a></h4> <p>3D Plane type in normalized form that contains a <code>normal</code> vector field and a <code>d</code> scalar distance.</p>   <h4 id="quat"><a href="../../../../classes/class_quat/#class-quat"><span class="std std-ref">Quat</span></a></h4> <p>Quaternion is a datatype used for representing a 3D rotation. It’s useful for interpolating rotations.</p>   <h4 id="aabb"><a href="../../../../classes/class_aabb/#class-aabb"><span class="std std-ref">AABB</span></a></h4> <p>Axis Aligned bounding box (or 3D box) contains 2 vectors fields: <code>pos</code> and <code>size</code>. Alternatively contains an <code>end</code> field which is <code>pos+size</code>. As an alias of this type, <code>Rect3</code> can be used interchangeably.</p>   <h4 id="matrix3"><a href="../../../../classes/class_matrix3/#class-matrix3"><span class="std std-ref">Matrix3</span></a></h4> <p>3x3 matrix used for 3D rotation and scale. It contains 3 vector fields (<code>x</code>, <code>y</code> and <code>z</code>) and can also be accessed as an array of 3D vectors.</p>   <h4 id="transform"><a href="../../../../classes/class_transform/#class-transform"><span class="std std-ref">Transform</span></a></h4> <p>3D Transform contains a Matrix3 field <code>basis</code> and a Vector3 field <code>origin</code>.</p>    <h3 id="engine-built-in-types">Engine built-in types</h3>  <h4 id="color"><a href="../../../../classes/class_color/#class-color"><span class="std std-ref">Color</span></a></h4> <p>Color data type contains <code>r</code>, <code>g</code>, <code>b</code>, and <code>a</code> fields. It can also be accessed as <code>h</code>, <code>s</code>, and <code>v</code> for hue/saturation/value.</p>   <h4 id="image"><a href="../../../../classes/class_image/#class-image"><span class="std std-ref">Image</span></a></h4> <p>Contains a custom format 2D image and allows direct access to the pixels.</p>   <h4 id="nodepath"><a href="../../../../classes/class_nodepath/#class-nodepath"><span class="std std-ref">NodePath</span></a></h4> <p>Compiled path to a node used mainly in the scene system. It can be easily assigned to, and from, a String.</p>   <h4 id="rid"><a href="../../../../classes/class_rid/#class-rid"><span class="std std-ref">RID</span></a></h4> <p>Resource ID (RID). Servers use generic RIDs to reference opaque data.</p>   <h4 id="object"><a href="../../../../classes/class_object/#class-object"><span class="std std-ref">Object</span></a></h4> <p>Base class for anything that is not a built-in type.</p>   <h4 id="inputevent"><a href="../../../../classes/class_inputevent/#class-inputevent"><span class="std std-ref">InputEvent</span></a></h4> <p>Events from input devices are contained in very compact form in InputEvent objects. Due to the fact that they can be received in high amounts from frame to frame they are optimized as their own data type.</p>    <h3 id="container-built-in-types">Container built-in types</h3>  <h4 id="array"><a href="../../../../classes/class_array/#class-array"><span class="std std-ref">Array</span></a></h4> <p>Generic sequence of arbitrary object types, including other arrays or dictionaries (see below). The array can resize dynamically. Arrays are indexed starting from index <code>0</code>. Starting with Godot 2.1, indices may be negative like in Python, to count from the end.</p> <pre data-language="gdscript">var arr=[]
arr=[1, 2, 3]
var b = arr[1]            # this is 2
var c = arr[arr.size()-1] # this is 3
var d = arr[-1]           # same as the previous line, but shorter
arr[0] = "Hi!"            # replacing value 1 with "Hi"
arr.append(4)             # array is now ["Hi", 2, 3, 4]
</pre> <p>GDScript arrays are allocated linearly in memory for speed. Very large arrays (more than tens of thousands of elements) may however cause memory fragmentation. If this is a concern special types of arrays are available. These only accept a single data type. They avoid memory fragmentation and also use less memory but are atomic and tend to run slower than generic arrays. They are therefore only recommended to use for very large data sets:</p> <ul class="simple"> <li>
<span class="xref std std-ref">ByteArray</span>: An array of bytes (integers from 0 to 255).</li> <li>
<a href="../../../../classes/class_intarray/#class-intarray"><span class="std std-ref">IntArray</span></a>: An array of integers.</li> <li>
<span class="xref std std-ref">FloatArray</span>: An array of floats.</li> <li>
<a href="../../../../classes/class_stringarray/#class-stringarray"><span class="std std-ref">StringArray</span></a>: An array of strings.</li> <li>
<a href="../../../../classes/class_vector2array/#class-vector2array"><span class="std std-ref">Vector2Array</span></a>: An array of <a href="../../../../classes/class_vector2/#class-vector2"><span class="std std-ref">Vector2</span></a> objects.</li> <li>
<a href="../../../../classes/class_vector3array/#class-vector3array"><span class="std std-ref">Vector3Array</span></a>: An array of <a href="../../../../classes/class_vector3/#class-vector3"><span class="std std-ref">Vector3</span></a> objects.</li> <li>
<a href="../../../../classes/class_colorarray/#class-colorarray"><span class="std std-ref">ColorArray</span></a>: An array of <a href="../../../../classes/class_color/#class-color"><span class="std std-ref">Color</span></a> objects.</li> </ul>   <h4 id="dictionary"><a href="../../../../classes/class_dictionary/#class-dictionary"><span class="std std-ref">Dictionary</span></a></h4> <p>Associative container which contains values referenced by unique keys.</p> <pre data-language="gdscript">var d={4:5, "a key":"a value", 28:[1,2,3]}
d["Hi!"] = 0
var d = {
    22         : "Value",
    "somekey"  : 2,
    "otherkey" : [2,3,4],
    "morekey"  : "Hello"
}
</pre> <p>Lua-style table syntax is also supported. Lua-style uses <code>=</code> instead of <code>:</code> and doesn’t use quotes to mark string keys (making for slightly less to write). Note however that like any GDScript identifier, keys written in this form cannot start with a digit.</p> <pre data-language="gdscript">var d = {
    test22 = "Value",
    somekey = 2,
    otherkey = [2,3,4],
    morekey = "Hello"
}
</pre> <p>To add a key to an existing dictionary, access it like an existing key and assign to it:</p> <pre data-language="gdscript">var d = {} # create an empty Dictionary
d.Waiting = 14 # add String "Waiting" as a key and assign the value 14 to it
d[4] = "hello" # add integer `4` as a key and assign the String "hello" as its value
d["Godot"] = 3.01 # add String "Godot" as a key and assign the value 3.01 to it
</pre>     <h2 id="data">Data</h2>  <h3 id="variables">Variables</h3> <p>Variables can exist as class members or local to functions. They are created with the <code>var</code> keyword and may, optionally, be assigned a value upon initialization.</p> <pre data-language="gdscript">var a  # data type is null by default
var b = 5
var c = 3.8
var d = b + c  # variables are always initialized in order
</pre>   <h3 id="constants">Constants</h3> <p>Constants are similar to variables, but must be constants or constant expressions and must be assigned on initialization.</p> <pre data-language="gdscript">const a = 5
const b = Vector2(20, 20)
const c = 10 + 20 # constant expression
const d = Vector2(20, 30).x  # constant expression: 20
const e = [1, 2, 3, 4][0]  # constant expression: 1
const f = sin(20)  # sin() can be used in constant expressions
const g = x + 20  # invalid; this is not a constant expression!
</pre>  <h4 id="enums">Enums</h4> <p><em>Note, only available in Godot 2.1.3 or higher.</em></p> <p>Enums are basically a shorthand for constants, and are pretty useful if you want to assign consecutive integers to some constant.</p> <p>If you pass a name to the enum, it would also put all the values inside a constant dictionary of that name.</p> <pre data-language="gdscript">enum {TILE_BRICK, TILE_FLOOR, TILE_SPIKE, TILE_TELEPORT}
# Is the same as:
const TILE_BRICK = 0
const TILE_FLOOR = 1
const TILE_SPIKE = 2
const TILE_TELEPORT = 3

enum State {STATE_IDLE, STATE_JUMP = 5, STATE_SHOOT}
# Is the same as:
const STATE_IDLE = 0
const STATE_JUMP = 5
const STATE_SHOOT = 6
const State = {STATE_IDLE = 0, STATE_JUMP = 5, STATE_SHOOT = 6}
</pre>    <h3 id="functions">Functions</h3> <p>Functions always belong to a <a href="#classes">class</a>. The scope priority for variable look-up is: local → class member → global. The <code>self</code> variable is always available and is provided as an option for accessing class members, but is not always required (and should <em>not</em> be sent as the function’s first argument, unlike Python).</p> <pre data-language="gdscript">func myfunction(a, b):
    print(a)
    print(b)
    return a + b  # return is optional; without it null is returned
</pre> <p>A function can <code>return</code> at any point. The default return value is <code>null</code>.</p>  <h4 id="referencing-functions">Referencing Functions</h4> <p>To call a function in a <em>base class</em> (i.e. one <code>extend</code>-ed in your current class), prepend <code>.</code> to the function name:</p> <pre data-language="gdscript">.basefunc(args)
</pre> <p>Contrary to Python, functions are <em>not</em> first class objects in GDScript. This means they cannot be stored in variables, passed as an argument to another function or be returned from other functions. This is for performance reasons.</p> <p>To reference a function by name at runtime, (e.g. to store it in a variable, or pass it to another function as an argument) one must use the <code>call</code> or <code>funcref</code> helpers:</p> <pre data-language="gdscript"># Call a function by name in one step
mynode.call("myfunction", args)

# Store a function reference
var myfunc = funcref(mynode, "myfunction")
# Call stored function reference
myfunc.call_func(args)
</pre> <p>Remember that default functions like <code>_init</code>, and most notifications such as <code>_enter_tree</code>, <code>_exit_tree</code>, <code>_process</code>, <code>_fixed_process</code>, etc. are called in all base classes automatically. So there is only a need to call the function explicitly when overloading them in some way.</p>   <h4 id="static-functions">Static functions</h4> <p>A function can be declared static. When a function is static it has no access to the instance member variables or <code>self</code>. This is mainly useful to make libraries of helper functions:</p> <pre data-language="gdscript">static func sum2(a, b):
    return a + b
</pre>    <h3 id="statements-and-control-flow">Statements and control flow</h3> <p>Statements are standard and can be assignments, function calls, control flow structures, etc (see below). <code>;</code> as a statement separator is entirely optional.</p>  <h4 id="if-else-elif">if/else/elif</h4> <p>Simple conditions are created by using the <code>if</code>/<code>else</code>/<code>elif</code> syntax. Parenthesis around conditions are allowed, but not required. Given the nature of the tab-based indentation, <code>elif</code> can be used instead of <code>else</code>/<code>if</code> to maintain a level of indentation.</p> <pre data-language="gdscript">if [expression]:
    statement(s)
elif [expression]:
    statement(s)
else:
    statement(s)
</pre> <p>Short statements can be written on the same line as the condition:</p> <pre data-language="gdscript">if (1 + 1 == 2): return 2 + 2
else:
    var x = 3 + 3
    return x
</pre> <p>Sometimes you might want to assign a different initial value based on a boolean expression. In this case ternary-if expressions come in handy (Godot 2.1.3+):</p> <pre data-language="gdscript">var x = [true-value] if [expression] else [false-value]
y += 3 if y &lt; 10 else -1
</pre>   <h4 id="while">while</h4> <p>Simple loops are created by using <code>while</code> syntax. Loops can be broken using <code>break</code> or continued using <code>continue</code>:</p> <pre data-language="gdscript">while [expression]:
    statement(s)
</pre>   <h4 id="for">for</h4> <p>To iterate through a range, such as an array or table, a <em>for</em> loop is used. When iterating over an array, the current array element is stored in the loop variable. When iterating over a dictionary, the <em>index</em> is stored in the loop variable.</p> <pre data-language="gdscript">for x in [5, 7, 11]:
    statement  # loop iterates 3 times with x as 5, then 7 and finally 11

var dict = {"a":0, "b":1, "c":2}
for i in dict:
    print(dict[i])  # loop provides the keys in an arbitrary order; may print 0, 1, 2, or 2, 0, 1, etc...

for i in range(3):
    statement  # similar to [0, 1, 2] but does not allocate an array

for i in range(1,3):
    statement  # similar to [1, 2] but does not allocate an array

for i in range(2,8,2):
    statement  # similar to [2, 4, 6] but does not allocate an array

for c in "Hello":
    print(c)   # iterate through all characters in a String, print every letter on new line
</pre>    <h3 id="classes">Classes</h3> <p>By default, the body of a script file is an unnamed class and it can only be referenced externally as a resource or file. Class syntax is meant to be very compact and can only contain member variables or functions. Static functions are allowed, but not static members (this is in the spirit of thread safety, since scripts can be initialized in separate threads without the user knowing). In the same way, member variables (including arrays and dictionaries) are initialized every time an instance is created.</p> <p>Below is an example of a class file.</p> <pre data-language="gdscript"># saved as a file named myclass.gd

var a = 5

func print_value_of_a():
    print(a)
</pre>  <h4 id="inheritance">Inheritance</h4> <p>A class (stored as a file) can inherit from</p> <ul class="simple"> <li>A global class</li> <li>Another class file</li> <li>An inner class inside another class file.</li> </ul> <p>Multiple inheritance is not allowed.</p> <p>Inheritance uses the <code>extends</code> keyword:</p> <pre data-language="gdscript"># Inherit/extend a globally available class
extends SomeClass

# Inherit/extend a named class file
extends "somefile.gd"

# Inherit/extend an inner class in another file
extends "somefile.gd".SomeInnerClass
</pre> <p>To check if a given instance inherits from a given class the <code>extends</code> keyword can be used as an operator instead:</p> <pre data-language="gdscript"># Cache the enemy class
const enemy_class = preload("enemy.gd")

# [...]

# use 'extends' to check inheritance
if (entity extends enemy_class):
    entity.apply_damage()
</pre>   <h4 id="class-constructor">Class Constructor</h4> <p>The class constructor, called on class instantiation, is named <code>_init</code>. As mentioned earlier, the constructors of parent classes are called automatically when inheriting a class. So there is usually no need to call <code>._init()</code> explicitly.</p> <p>If a parent constructor takes arguments, they are passed like this:</p> <pre data-language="gdscript">func _init(args).(parent_args):
   pass
</pre>   <h4 id="inner-classes">Inner classes</h4> <p>A class file can contain inner classes. Inner classes are defined using the <code>class</code> keyword. They are instanced using the <code>ClassName.new()</code> function.</p> <pre data-language="gdscript"># inside a class file

# An inner class in this class file
class SomeInnerClass:
    var a = 5
    func print_value_of_a():
        print(a)

# This is the constructor of the class file's main class
func _init():
    var c = SomeInnerClass.new()
    c.print_value_of_a()
</pre>   <h4 id="classes-as-resources">Classes as resources</h4> <p>Classes stored as files are treated as <a href="../../../../classes/class_gdscript/#class-gdscript"><span class="std std-ref">resources</span></a>. They must be loaded from disk to access them in other classes. This is done using either the <code>load</code> or <code>preload</code> functions (see below). Instancing of a loaded class resource is done by calling the <code>new</code> function on the class object:</p> <pre data-language="gdscript"># Load the class resource when calling load()
var MyClass = load("myclass.gd")

# Preload the class only once at compile time
var MyClass2 = preload("myclass.gd")

func _init():
    var a = MyClass.new()
    a.somefunction()
</pre>    <h3 id="exports">Exports</h3> <p>Class members can be exported. This means their value gets saved along with the resource (e.g. the <a href="../../../../classes/class_packedscene/#class-packedscene"><span class="std std-ref">scene</span></a>) they’re attached to. They will also be available for editing in the property editor. Exporting is done by using the <code>export</code> keyword:</p> <pre data-language="gdscript">extends Button

export var number = 5  # value will be saved and visible in the property editor
</pre> <p>An exported variable must be initialized to a constant expression or have an export hint in the form of an argument to the export keyword (see below).</p> <p>One of the fundamental benefits of exporting member variables is to have them visible and editable in the editor. This way artists and game designers can modify values that later influence how the program runs. For this, a special export syntax is provided.</p> <pre data-language="gdscript"># If the exported value assigns a constant or constant expression,
# the type will be inferred and used in the editor

export var number = 5

# Export can take a basic data type as an argument which will be
# used in the editor

export(int) var number

# Export can also take a resource type to use as a hint

export(Texture) var character_face
export(PackedScene) var scene_file

# Integers and strings hint enumerated values

# Editor will enumerate as 0, 1 and 2
export(int, "Warrior", "Magician", "Thief") var character_class
# Editor will enumerate with string names
export(String, "Rebecca", "Mary", "Leah") var character_name

# Strings as paths

# String is a path to a file
export(String, FILE) var f
# String is a path to a directory
export(String, DIR) var f
# String is a path to a file, custom filter provided as hint
export(String, FILE, "*.txt") var f

# Using paths in the global filesystem is also possible,
# but only in tool scripts (see further below)

# String is a path to a PNG file in the global filesystem
export(String, FILE, GLOBAL, "*.png") var tool_image
# String is a path to a directory in the global filesystem
export(String, DIR, GLOBAL) var tool_dir

# The MULTILINE setting tells the editor to show a large input
# field for editing over multiple lines
export(String, MULTILINE) var text

# Limiting editor input ranges

# Allow integer values from 0 to 20
export(int, 20) var i
# Allow integer values from -10 to 20
export(int, -10, 20) var j
# Allow floats from -10 to 20, with a step of 0.2
export(float, -10, 20, 0.2) var k
# Allow values y = exp(x) where y varies betwee 100 and 1000
# while snapping to steps of 20. The editor will present a
# slider for easily editing the value.
export(float, EXP, 100, 1000, 20) var l

# Floats with easing hint

# Display a visual representation of the ease() function
# when editing
export(float, EASE) var transition_speed

# Colors

# Color given as Red-Green-Blue value
export(Color, RGB) var col  # Color is RGB
# Color given as Red-Green-Blue-Alpha value
export(Color, RGBA) var col  # Color is RGBA

# another node in the scene can be exported too

export(NodePath) var node
</pre> <p>It must be noted that even if the script is not being run while at the editor, the exported properties are still editable (see below for “tool”).</p>  <h4 id="exporting-bit-flags">Exporting bit flags</h4> <p>Integers used as bit flags can store multiple <code>true</code>/<code>false</code> (boolean) values in one property. By using the export hint <code>int, FLAGS</code>, they can be set from the editor:</p> <pre data-language="gdscript"># Individually edit the bits of an integer
export(int, FLAGS) var spell_elements = ELEMENT_WIND | ELEMENT_WATER
</pre> <p>Restricting the flags to a certain number of named flags is also possible. The syntax is very similar to the enumeration syntax:</p> <pre data-language="gdscript"># Set any of the given flags from the editor
export(int, FLAGS, "Fire", "Water", "Earth", "Wind") var spell_elements = 0
</pre> <p>In this example, <code>Fire</code> has value 1, <code>Water</code> has value 2, <code>Earth</code> has value 4 and <code>Wind</code> corresponds to value 8. Usually, constants should be defined accordingly (e.g. <code>const ELEMENT_WIND = 8</code> and so on).</p> <p>Using bit flags requires some understanding of bitwise operations. If in doubt, boolean variables should be exported instead.</p>   <h4 id="exporting-arrays">Exporting arrays</h4> <p>Exporting arrays works but with an important caveat: While regular arrays are created local to every class instance, exported arrays are <em>shared</em> between all instances. This means that editing them in one instance will cause them to change in all other instances. Exported arrays can have initializers, but they must be constant expressions.</p> <pre data-language="gdscript"># Exported array, shared between all instances.
# Default value must be a constant expression.

export var a=[1,2,3]

# Typed arrays also work, only initialized empty:

export var vector3s = Vector3Array()
export var strings = StringArray()

# Regular array, created local for every instance.
# Default value can include run-time values, but can't
# be exported.

var b = [a,2,3]
</pre>    <h3 id="setters-getters">Setters/getters</h3> <p>It is often useful to know when a class’ member variable changes for whatever reason. It may also be desired to encapsulate its access in some way.</p> <p>For this, GDScript provides a <em>setter/getter</em> syntax using the <code>setget</code> keyword. It is used directly after a variable definition:</p> <pre data-language="gdscript">var variable = value setget setterfunc, getterfunc
</pre> <p>Whenever the value of <code>variable</code> is modified by an <em>external</em> source (i.e. not from local usage in the class), the <em>setter</em> function (<code>setterfunc</code> above) will be called. This happens <em>before</em> the value is changed. The <em>setter</em> must decide what to do with the new value. Vice-versa, when <code>variable</code> is accessed, the <em>getter</em> function (<code>getterfunc</code> above) must <code>return</code> the desired value. Below is an example:</p> <pre data-language="gdscript">var myvar setget myvar_set,myvar_get

func myvar_set(newvalue):
    myvar=newvalue

func myvar_get():
    return myvar # getter must return a value
</pre> <p>Either of the <em>setter</em> or <em>getter</em> functions can be omitted:</p> <pre data-language="gdscript"># Only a setter
var myvar = 5 setget myvar_set
# Only a getter (note the comma)
var myvar = 5 setget ,myvar_get
</pre> <p>Get/Setters are especially useful when exporting variables to editor in tool scripts or plugins, for validating input.</p> <p>As said <em>local</em> access will <em>not</em> trigger the setter and getter. Here is an illustration of this:</p> <pre data-language="gdscript">func _init():
    # Does not trigger setter/getter
    myinteger=5
    print(myinteger)

    # Does trigger setter/getter
    self.myinteger=5
    print(self.myinteger)
</pre>   <h3 id="tool-mode">Tool mode</h3> <p>Scripts, by default, don’t run inside the editor and only the exported properties can be changed. In some cases it is desired that they do run inside the editor (as long as they don’t execute game code or manually avoid doing so). For this, the <code>tool</code> keyword exists and must be placed at the top of the file:</p> <pre data-language="gdscript">tool
extends Button

func _ready():
    print("Hello")
</pre>   <h3 id="memory-management">Memory management</h3> <p>If a class inherits from <a href="../../../../classes/class_reference/#class-reference"><span class="std std-ref">Reference</span></a>, then instances will be freed when no longer in use. No garbage collector exists, just simple reference counting. By default, all classes that don’t define inheritance extend <strong>Reference</strong>. If this is not desired, then a class must inherit <a href="../../../../classes/class_object/#class-object"><span class="std std-ref">Object</span></a> manually and must call instance.free(). To avoid reference cycles that can’t be freed, a <code>weakref</code> function is provided for creating weak references.</p>   <h3 id="signals">Signals</h3> <p>It is often desired to send a notification that something happened in an instance. GDScript supports creation of built-in Godot signals. Declaring a signal in GDScript is easy using the <code>signal</code> keyword.</p> <pre data-language="gdscript"># No arguments
signal your_signal_name
# With arguments
signal your_signal_name_with_args(a,b)
</pre> <p>These signals, just like regular signals, can be connected in the editor or from code. Just take the instance of a class where the signal was declared and connect it to the method of another instance:</p> <pre data-language="gdscript">func _callback_no_args():
    print("Got callback!")

func _callback_args(a,b):
    print("Got callback with args! a: ",a," and b: ",b)

func _at_some_func():
    instance.connect("your_signal_name",self,"_callback_no_args")
    instance.connect("your_signal_name_with_args",self,"_callback_args")
</pre> <p>It is also possible to bind arguments to a signal that lacks them with your custom values:</p> <pre data-language="gdscript">func _at_some_func():
    instance.connect("your_signal_name",self,"_callback_args",[22,"hello"])
</pre> <p>This is very useful when a signal from many objects is connected to a single callback and the sender must be identified:</p> <pre data-language="gdscript">func _button_pressed(which):
    print("Button was pressed: ",which.get_name())

func _ready():
    for b in get_node("buttons").get_children():
        b.connect("pressed",self,"_button_pressed",[b])
</pre> <p>Finally, emitting a custom signal is done by using the Object.emit_signal method:</p> <pre data-language="gdscript">func _at_some_func():
    emit_signal("your_signal_name")
    emit_signal("your_signal_name_with_args",55,128)
    someinstance.emit_signal("somesignal")
</pre>   <h3 id="coroutines">Coroutines</h3> <p>GDScript offers support for <a href="https://en.wikipedia.org/wiki/Coroutine" target="_blank">coroutines</a> via the <code>yield</code> built-in function. Calling <code>yield()</code> will immediately return from the current function, with the current frozen state of the same function as the return value. Calling <code>resume</code> on this resulting object will continue execution and return whatever the function returns. Once resumed the state object becomes invalid. Here is an example:</p> <pre data-language="gdscript">func myfunc():

   print("hello")
   yield()
   print("world")

func _ready():

    var y = myfunc()
    # Function state saved in 'y'
    print("my dear")
    y.resume()
    # 'y' resumed and is now an invalid state
</pre> <p>Will print:</p> <pre data-language="gdscript">hello
my dear
world
</pre> <p>It is also possible to pass values between yield() and resume(), for example:</p> <pre data-language="gdscript">func myfunc():

   print("hello")
   print( yield() )
   return "cheers!"

func _ready():

    var y = myfunc()
    # Function state saved in 'y'
    print( y.resume("world") )
    # 'y' resumed and is now an invalid state
</pre> <p>Will print:</p> <pre data-language="gdscript">hello
world
cheers!
</pre>  <h4 id="coroutines-signals">Coroutines &amp; signals</h4> <p>The real strength of using <code>yield</code> is when combined with signals. <code>yield</code> can accept two parameters, an object and a signal. When the signal is received, execution will recommence. Here are some examples:</p> <pre data-language="gdscript"># Resume execution the next frame
yield( get_tree(), "idle_frame" )

# Resume execution when animation is done playing:
yield( get_node("AnimationPlayer"), "finished" )
</pre>    <h3 id="onready-keyword">Onready keyword</h3> <p>When using nodes, it’s very common to desire to keep references to parts of the scene in a variable. As scenes are only warranted to be configured when entering the active scene tree, the sub-nodes can only be obtained when a call to Node._ready() is made.</p> <pre data-language="gdscript">var mylabel

func _ready():
    mylabel = get_node("MyLabel")
</pre> <p>This can get a little cumbersome, specially when nodes and external references pile up. For this, GDScript has the <code>onready</code> keyword, that defers initialization of a member variable until _ready is called. It can replace the above code with a single line:</p> <pre data-language="gdscript">onready var mylabel = get_node("MyLabel")
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    © 2014–2017 Juan Linietsky, Ariel Manzur and the Godot community<br>Licensed under the Creative Commons Attribution Unported License v3.0.<br>
    <a href="http://docs.godotengine.org/en/2.1/learning/scripting/gdscript/gdscript_basics.html" class="_attribution-link" target="_blank">http://docs.godotengine.org/en/2.1/learning/scripting/gdscript/gdscript_basics.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
