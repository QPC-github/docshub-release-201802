
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Algorithm - Nim - W3cubDocs</title>
  
  <meta name="description" content=" This module implements some common generic algorithms. ">
  <meta name="keywords" content="module, algorithm, -, nim">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/nim/algorithm/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-e0f881b0fce8cbe96f33dadc355b7159d5d2912911231446d60eb8f9caffa802.css">
  <script type="text/javascript" src="/assets/application-8fc46316434047265cd383f02b8e7f434ed7dec4a59f920dd633deef8d488d1b.js"></script>
  <script src="/json/nim.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/nim/" class="_nav-link" title="" style="margin-left:0;">Nim</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _nim">
				
<h1 class="title">Module algorithm</h1>  <p class="module-desc">This module implements some common generic algorithms.</p>  <h2 id="7">Types</h2> <dl> <dt id="SortOrder"><pre id="SortOrder" data-language="nim">SortOrder = enum
  Descending, Ascending</pre></dt> <dd> sort order   </dd> </dl>  <h2 id="12">Procs</h2> <dl> <dt id="*"><pre id="*,int,SortOrder" data-language="nim">proc `*`(x: int; order: SortOrder): int {.inline, raises: [], tags: [].}</pre></dt> <dd> flips <em>x</em> if <code>order == Descending</code>; if <code>order == Ascending</code> then <em>x</em> is returned. <em>x</em> is supposed to be the result of a comparator, ie <code>&lt; 0</code> for <em>less than</em>, <code>== 0</code> for <em>equal</em>, <code>&gt; 0</code> for <em>greater than</em>.   </dd> <dt id="fill"><pre id="fill,openArray[T],Natural,Natural,T" data-language="nim">proc fill[T](a: var openArray[T]; first, last: Natural; value: T)</pre></dt> <dd> fills the array <code>a[first..last]</code> with <em>value</em>.   </dd> <dt id="fill"><pre id="fill,openArray[T],T" data-language="nim">proc fill[T](a: var openArray[T]; value: T)</pre></dt> <dd> fills the array <em>a</em> with <em>value</em>.   </dd> <dt id="reverse"><pre id="reverse,openArray[T],Natural,Natural" data-language="nim">proc reverse[T](a: var openArray[T]; first, last: Natural)</pre></dt> <dd> reverses the array <code>a[first..last]</code>.   </dd> <dt id="reverse"><pre id="reverse,openArray[T]" data-language="nim">proc reverse[T](a: var openArray[T])</pre></dt> <dd> reverses the array <em>a</em>.   </dd> <dt id="reversed"><pre id="reversed,openArray[T],Natural,int" data-language="nim">proc reversed[T](a: openArray[T]; first: Natural; last: int): seq[T]</pre></dt> <dd> returns the reverse of the array <em>a[first..last]</em>.   </dd> <dt id="reversed"><pre id="reversed,openArray[T]" data-language="nim">proc reversed[T](a: openArray[T]): seq[T]</pre></dt> <dd> returns the reverse of the array <em>a</em>.   </dd> <dt id="binarySearch"><pre id="binarySearch,openArray[T],T" data-language="nim">proc binarySearch[T](a: openArray[T]; key: T): int</pre></dt> <dd> binary search for <em>key</em> in <em>a</em>. Returns -1 if not found.   </dd> <dt id="smartBinarySearch"><pre id="smartBinarySearch,openArray[T],T" data-language="nim">proc smartBinarySearch[T](a: openArray[T]; key: T): int</pre></dt> <dd> <code>a.len</code> must be a power of 2 for this to work.   </dd> <dt id="lowerBound"><pre id="lowerBound,openArray[T],T,proc(T,T)" data-language="nim">proc lowerBound[T](a: openArray[T]; key: T; cmp: proc (x, y: T): int {.closure.}): int</pre></dt> <dd> <p>same as binarySearch except that if key is not in <em>a</em> then this returns the location where <em>key</em> would be if it were. In other words if you have a sorted sequence and you call insert(thing, elm, lowerBound(thing, elm)) the sequence will still be sorted.</p> <p><em>cmp</em> is the comparator function to use, the expected return values are the same as that of system.cmp.</p> <p>example:</p>
<pre data-language="nim">var arr = @[1,2,3,5,6,7,8,9]
arr.insert(4, arr.lowerBound(4))
# after running the above arr is `[1,2,3,4,5,6,7,8,9]`</pre>   </dd> <dt id="lowerBound"><pre id="lowerBound,openArray[T],T" data-language="nim">proc lowerBound[T](a: openArray[T]; key: T): int</pre></dt>  <dt id="sort"><pre id="sort,openArray[T],proc(T,T)" data-language="nim">proc sort[T](a: var openArray[T]; cmp: proc (x, y: T): int {.closure.};
            order = SortOrder.Ascending)</pre></dt> <dd> Default Nim sort (an implementation of merge sort). The sorting is guaranteed to be stable and the worst case is guaranteed to be O(n log n). The current implementation uses an iterative mergesort to achieve this. It uses a temporary sequence of length <code>a.len div 2</code>. Currently Nim does not support a sensible default argument for <code>cmp</code>, so you have to provide one of your own. However, the <code>system.cmp</code> procs can be used:<pre class="listing" data-language="nim">sort(myIntArray, system.cmp[int])

# do not use cmp[string] here as we want to use the specialized
# overload:
sort(myStrArray, system.cmp)</pre>
<p>You can inline adhoc comparison procs with the <a href="../manual/#procedures-do-notation">do notation</a>. Example:</p> <pre class="listing" data-language="nim">people.sort do (x, y: Person) -&gt; int:
  result = cmp(x.surname, y.surname)
  if result == 0:
    result = cmp(x.name, y.name)</pre>   </dd> <dt id="sorted"><pre id="sorted,openArray[T],proc(T,T)" data-language="nim">proc sorted[T](a: openArray[T]; cmp: proc (x, y: T): int {.closure.};
              order = SortOrder.Ascending): seq[T]</pre></dt> <dd> returns <em>a</em> sorted by <em>cmp</em> in the specified <em>order</em>.   </dd> <dt id="isSorted"><pre id="isSorted,openArray[T],proc(T,T)" data-language="nim">proc isSorted[T](a: openArray[T]; cmp: proc (x, y: T): int {.closure.};
                order = SortOrder.Ascending): bool</pre></dt> <dd> Checks to see whether <em>a</em> is already sorted in <em>order</em> using <em>cmp</em> for the comparison. Parameters identical to <em>sort</em>   </dd> <dt id="product"><pre id="product,openArray[seq[T]]" data-language="nim">proc product[T](x: openArray[seq[T]]): seq[seq[T]]</pre></dt> <dd> produces the Cartesian product of the array. Warning: complexity may explode.   </dd> <dt id="nextPermutation"><pre id="nextPermutation,openArray[T]" data-language="nim">proc nextPermutation[T](x: var openArray[T]): bool {.discardable.}</pre></dt> <dd> Calculates the next lexicographic permutation, directly modifying <code>x</code>. The result is whether a permutation happened, otherwise we have reached the last-ordered permutation.<pre class="listing" data-language="nim">var v = @[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
v.nextPermutation()
echo v # @[0, 1, 2, 3, 4, 5, 6, 7, 9, 8]</pre>   </dd> <dt id="prevPermutation"><pre id="prevPermutation,openArray[T]" data-language="nim">proc prevPermutation[T](x: var openArray[T]): bool {.discardable.}</pre></dt> <dd> Calculates the previous lexicographic permutation, directly modifying <code>x</code>. The result is whether a permutation happened, otherwise we have reached the first-ordered permutation.<pre class="listing" data-language="nim">var v = @[0, 1, 2, 3, 4, 5, 6, 7, 9, 8]
v.prevPermutation()
echo v # @[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</pre>   </dd> </dl>  <h2 id="17">Templates</h2> <dl> <dt id="sortedByIt"><pre id="sortedByIt.t,untyped,untyped" data-language="nim">template sortedByIt(seq1, op: untyped): untyped</pre></dt> <dd> <p>Convenience template around the <code>sorted</code> proc to reduce typing.</p> <p>The template injects the <code>it</code> variable which you can use directly in an expression. Example:</p> <pre class="listing" data-language="nim">type Person = tuple[name: string, age: int]
var
  p1: Person = (name: "p1", age: 60)
  p2: Person = (name: "p2", age: 20)
  p3: Person = (name: "p3", age: 30)
  p4: Person = (name: "p4", age: 30)
  people = @[p1,p2,p4,p3]

echo people.sortedByIt(it.name)</pre>
<p>Because the underlying <code>cmp()</code> is defined for tuples you can do a nested sort like in the following example:</p> <pre class="listing" data-language="nim">echo people.sortedByIt((it.age, it.name))</pre>   </dd> </dl>
<div class="_attribution">
  <p class="_attribution-p">
    © 2006–2017 Andreas Rumpf<br>Licensed under the MIT License.<br>
    <a href="https://nim-lang.org/docs/algorithm.html" class="_attribution-link" target="_blank">https://nim-lang.org/docs/algorithm.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
