
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Top Level Namespace - Crystal - W3cubDocs</title>
  
  <meta name="description" content=" Returns the standard output of executing command in a subshell. ">
  <meta name="keywords" content="top, level, namespace, -, crystal">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/crystal/api/0.24.1/toplevel/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-e0f881b0fce8cbe96f33dadc355b7159d5d2912911231446d60eb8f9caffa802.css">
  <script type="text/javascript" src="/assets/application-8fc46316434047265cd383f02b8e7f434ed7dec4a59f920dd633deef8d488d1b.js"></script>
  <script src="/json/crystal.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/crystal/" class="_nav-link" title="" style="margin-left:0;">Crystal</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _crystal">
				
<h1 class="type-name"> Top Level Namespace </h1> <h2>Included Modules</h2> <ul class="other-types-list"> <li class="other-type"><a href="../spec/expectations/">Spec::Expectations</a></li> <li class="other-type"><a href="../spec/methods/">Spec::Methods</a></li> </ul> <h2>Extended Modules</h2> <ul class="other-types-list"> <li class="other-type"><a href="../spec/expectations/">Spec::Expectations</a></li> <li class="other-type"><a href="../spec/methods/">Spec::Methods</a></li> </ul> <h2>Defined in:</h2> <h2>Constant Summary</h2> <dl> <dt class="entry-const" id="ARGF"> <strong>ARGF</strong> = <code>IO::ARGF.new(ARGV, STDIN)</code> </dt> <dt class="entry-const" id="ARGV"> <strong>ARGV</strong> = <code>Array.new(ARGC_UNSAFE - 1) do |i|
  String.new(ARGV_UNSAFE[1 + i])
end</code> </dt> <dt class="entry-const" id="PROGRAM_NAME"> <strong>PROGRAM_NAME</strong> = <code>String.new(ARGV_UNSAFE.value)</code> </dt> <dt class="entry-const" id="STDERR"> <strong>STDERR</strong> = <code>(IO::FileDescriptor.new(2, blocking: (LibC.isatty(2)) == 0)).tap do |f|
  f.flush_on_newline = true
end</code> </dt> <dt class="entry-const" id="STDIN"> <strong>STDIN</strong> = <code>IO::FileDescriptor.new(0, blocking: (LibC.isatty(0)) == 0)</code> </dt> <dt class="entry-const" id="STDOUT"> <strong>STDOUT</strong> = <code>(IO::FileDescriptor.new(1, blocking: (LibC.isatty(1)) == 0)).tap do |f|
  f.flush_on_newline = true
end</code> </dt> </dl> <h2>Method Summary</h2> <ul class="list-summary"> <li class="entry-summary"> <a href="#%60%28command%29%3AString-class-method" class="signature"><strong>`</strong>(command) : String</a> <div class="summary"><p>Returns the standard output of executing <em>command</em> in a subshell.</p></div> </li> <li class="entry-summary"> <a href="#abort%28message%2Cstatus%3D1%29%3ANoReturn-class-method" class="signature"><strong>abort</strong>(message, status = 1) : NoReturn</a> <div class="summary"><p>Terminates execution immediately, printing <em>message</em> to <code><a href="../toplevel/#STDERR">STDERR</a></code> and then calling <code><a href="../toplevel/#exit%28status%3D0%29%3ANoReturn-class-method">exit(status)</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#at_exit%28%26handler%3AInt32-%3E%29%3ANil-class-method" class="signature"><strong>at_exit</strong>(&amp;handler : Int32 -&gt; ) : Nil</a> <div class="summary"><p>Registers the given <code><a href="../proc/">Proc</a></code> for execution when the program exits.</p></div> </li> <li class="entry-summary"> <a href="#caller-class-method" class="signature"><strong>caller</strong></a> </li> <li class="entry-summary"> <a href="#delay%28delay%2C%26block%3A-%3E_%29-class-method" class="signature"><strong>delay</strong>(delay, &amp;block : -&gt; _)</a> <div class="summary"><p>Spawns a <code><a href="../fiber/">Fiber</a></code> to compute <em>&amp;block</em> in the background after <em>delay</em> has elapsed.</p></div> </li> <li class="entry-summary"> <a href="#exit%28status%3D0%29%3ANoReturn-class-method" class="signature"><strong>exit</strong>(status = 0) : NoReturn</a> <div class="summary"><p>Terminates execution immediately, returning the given status code to the invoking environment.</p></div> </li> <li class="entry-summary"> <a href="#fork-class-method" class="signature"><strong>fork</strong></a> <div class="summary"><p>See also: <code>Process.fork</code></p></div> </li> <li class="entry-summary"> <a href="#fork%28%26block%29-class-method" class="signature"><strong>fork</strong>(&amp;block)</a> <div class="summary"><p>See also: <code>Process.fork</code></p></div> </li> <li class="entry-summary"> <a href="#future%28%26exp%3A-%3E_%29-class-method" class="signature"><strong>future</strong>(&amp;exp : -&gt; _)</a> <div class="summary"><p>Spawns a <code><a href="../fiber/">Fiber</a></code> to compute <em>&amp;block</em> in the background.</p></div> </li> <li class="entry-summary"> <a href="#gets%28%2Aargs%2C%2A%2Aoptions%29-class-method" class="signature"><strong>gets</strong>(*args, **options)</a> <div class="summary"><p>Reads a line from <code><a href="../toplevel/#STDIN">STDIN</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#lazy%28%26block%3A-%3E_%29-class-method" class="signature"><strong>lazy</strong>(&amp;block : -&gt; _)</a> <div class="summary"><p>Conditionally spawns a <code><a href="../fiber/">Fiber</a></code> to run <em>&amp;block</em> in the background.</p></div> </li> <li class="entry-summary"> <a href="#loop%28%26block%29-class-method" class="signature"><strong>loop</strong>(&amp;block)</a> <div class="summary"><p>Repeatedly executes the block, passing an incremental <code><a href="../int32/">Int32</a></code> that starts with <code>0</code>.</p></div> </li> <li class="entry-summary"> <a href="#main%28argc%3AInt32%2Cargv%3APointer%28Pointer%28UInt8%29%29%29-class-method" class="signature"><strong>main</strong>(argc : Int32, argv : Pointer(Pointer(UInt8)))</a> <div class="summary"><p>Main function that acts as C's main function.</p></div> </li> <li class="entry-summary"> <a href="#p%28object%29-class-method" class="signature"><strong>p</strong>(object)</a> <div class="summary"><p>Pretty prints <em>object</em> to <code><a href="../toplevel/#STDOUT">STDOUT</a></code> followed by a newline.</p></div> </li> <li class="entry-summary"> <a href="#p%28%2Aobjects%29-class-method" class="signature"><strong>p</strong>(*objects)</a> <div class="summary"><p>Pretty prints each object in <em>objects</em> to <code><a href="../toplevel/#STDOUT">STDOUT</a></code>, followed by a newline.</p></div> </li> <li class="entry-summary"> <a href="#p-class-method" class="signature"><strong>p</strong></a> <div class="summary"><p>Pretty prints each object in <em>objects</em> to <code><a href="../toplevel/#STDOUT">STDOUT</a></code>, followed by a newline.</p></div> </li> <li class="entry-summary"> <a href="#print%28%2Aobjects%3A_%29%3ANil-class-method" class="signature"><strong>print</strong>(*objects : _) : Nil</a> <div class="summary"><p>Prints objects to STDOUT and then invokes <code>STDOUT.flush</code>.</p></div> </li> <li class="entry-summary"> <a href="#printf%28format_string%2C%2Aargs%29%3ANil-class-method" class="signature"><strong>printf</strong>(format_string, *args) : Nil</a> <div class="summary"><p>Prints a formatted string to <code><a href="../toplevel/#STDOUT">STDOUT</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#printf%28format_string%2Cargs%3AArray%7CTuple%29%3ANil-class-method" class="signature"><strong>printf</strong>(format_string, args : Array | Tuple) : Nil</a> <div class="summary"><p>Prints a formatted string to <code><a href="../toplevel/#STDOUT">STDOUT</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#puts%28%2Aobjects%29%3ANil-class-method" class="signature"><strong>puts</strong>(*objects) : Nil</a> <div class="summary"><p>Prints objects to <code><a href="../toplevel/#STDOUT">STDOUT</a></code>, each followed by a newline.</p></div> </li> <li class="entry-summary"> <a href="#raise%28exception%3AException%29%3ANoReturn-class-method" class="signature"><strong>raise</strong>(exception : Exception) : NoReturn</a> <div class="summary"><p>Raises the <em>exception</em>.</p></div> </li> <li class="entry-summary"> <a href="#raise%28message%3AString%29%3ANoReturn-class-method" class="signature"><strong>raise</strong>(message : String) : NoReturn</a> <div class="summary"><p>Raises an Exception with the <em>message</em>.</p></div> </li> <li class="entry-summary"> <a href="#rand%28x%29-class-method" class="signature"><strong>rand</strong>(x)</a> <div class="summary"><p>See <code>Random#rand(x)</code>.</p></div> </li> <li class="entry-summary"> <a href="#rand-class-method" class="signature"><strong>rand</strong></a> <div class="summary"><p>See <code>Random#rand</code>.</p></div> </li> <li class="entry-summary"> <a href="#read_line%28%2Aargs%2C%2A%2Aoptions%29-class-method" class="signature"><strong>read_line</strong>(*args, **options)</a> <div class="summary"><p>Reads a line from <code><a href="../toplevel/#STDIN">STDIN</a></code>.</p></div> </li> <li class="entry-summary"> <a href="#sleep-class-method" class="signature"><strong>sleep</strong></a> <div class="summary"><p>Blocks the current fiber forever.</p></div> </li> <li class="entry-summary"> <a href="#sleep%28time%3ATime%3A%3ASpan%29-class-method" class="signature"><strong>sleep</strong>(time : Time::Span)</a> <div class="summary"><p>Blocks the current Fiber for the specified time span.</p></div> </li> <li class="entry-summary"> <a href="#sleep%28seconds%3ANumber%29-class-method" class="signature"><strong>sleep</strong>(seconds : Number)</a> <div class="summary"><p>Blocks the current fiber for the specified number of seconds.</p></div> </li> <li class="entry-summary"> <a href="#spawn%28%2A%2Cname%3AString%3F%3Dnil%2C%26block%29-class-method" class="signature"><strong>spawn</strong>(*, name : String? = nil, &amp;block)</a> <div class="summary"><p>Spawns a new fiber.</p></div> </li> <li class="entry-summary"> <a href="#sprintf%28format_string%2C%2Aargs%29%3AString-class-method" class="signature"><strong>sprintf</strong>(format_string, *args) : String</a> <div class="summary"><p>Returns a formatted string.</p></div> </li> <li class="entry-summary"> <a href="#sprintf%28format_string%2Cargs%3AArray%7CTuple%29%3AString-class-method" class="signature"><strong>sprintf</strong>(format_string, args : Array | Tuple) : String</a> <div class="summary"><p>Returns a formatted string.</p></div> </li> <li class="entry-summary"> <a href="#system%28command%3AString%2Cargs%3Dnil%29%3ABool-class-method" class="signature"><strong>system</strong>(command : String, args = nil) : Bool</a> <div class="summary"><p>Executes the given command in a subshell.</p></div> </li> <li class="entry-summary"> <a href="#with_color%28color%3ASymbol%29-class-method" class="signature"><strong>with_color</strong>(color : Symbol)</a> </li> <li class="entry-summary"> <a href="#with_color-class-method" class="signature"><strong>with_color</strong></a> </li> </ul> <h2>Macro Summary</h2> <ul class="list-summary"> <li class="entry-summary"> <a href="#assert_responds_to%28var%2Cmethod%29-macro" class="signature"><strong>assert_responds_to</strong>(var, method)</a> </li> <li class="entry-summary"> <a href="#debugger-macro" class="signature"><strong>debugger</strong></a> </li> <li class="entry-summary"> <a href="#parallel%28%2Ajobs%29-macro" class="signature"><strong>parallel</strong>(*jobs)</a> </li> <li class="entry-summary"> <a href="#pp%28%2Aexps%29-macro" class="signature"><strong>pp</strong>(*exps)</a> <div class="summary"><p>Prints a series of expressions together with their values.</p></div> </li> <li class="entry-summary"> <a href="#record%28name%2C%2Aproperties%29-macro" class="signature"><strong>record</strong>(name, *properties)</a> <div class="summary"><p>Defines a <strong><code><a href="../struct/">Struct</a></code></strong> with the given name and properties.</p></div> </li> <li class="entry-summary"> <a href="#spawn%28call%2C%2A%2Cname%3Dnil%29-macro" class="signature"><strong>spawn</strong>(call, *, name = nil)</a> <div class="summary"><p>Spawns a fiber by first creating a <code><a href="../proc/">Proc</a></code>, passing the <em>call</em>'s expressions to it, and letting the <code><a href="../proc/">Proc</a></code> finally invoke the <em>call</em>.</p></div> </li> </ul> <div class="methods-inherited"> <h3>Instance methods inherited from module <code><a href="../spec/methods/">Spec::Methods</a></code>
</h3> <a href="../spec/methods/#assert%28file%3D__FILE__%2Cline%3D__LINE__%2Cend_line%3D__END_LINE__%2C%26block%29-instance-method" class="tooltip"> assert(file = __FILE__, line = __LINE__, end_line = __END_LINE__, &amp;block) assert</a>, <a href="../spec/methods/#context%28description%2Cfile%3D__FILE__%2Cline%3D__LINE__%2C%26block%29-instance-method" class="tooltip"> context(description, file = __FILE__, line = __LINE__, &amp;block) context</a>, <a href="../spec/methods/#describe%28description%2Cfile%3D__FILE__%2Cline%3D__LINE__%2C%26block%29-instance-method" class="tooltip"> describe(description, file = __FILE__, line = __LINE__, &amp;block) describe</a>, <a href="../spec/methods/#fail%28msg%2Cfile%3D__FILE__%2Cline%3D__LINE__%29-instance-method" class="tooltip"> fail(msg, file = __FILE__, line = __LINE__) fail</a>, <a href="../spec/methods/#it%28description%3D%26quot%3Bassert%26quot%3B%2Cfile%3D__FILE__%2Cline%3D__LINE__%2Cend_line%3D__END_LINE__%2C%26block%29-instance-method" class="tooltip"> it(description = "assert", file = __FILE__, line = __LINE__, end_line = __END_LINE__, &amp;block) it</a>, <a href="../spec/methods/#pending%28description%3D%26quot%3Bassert%26quot%3B%2Cfile%3D__FILE__%2Cline%3D__LINE__%2Cend_line%3D__END_LINE__%2C%26block%29-instance-method" class="tooltip"> pending(description = "assert", file = __FILE__, line = __LINE__, end_line = __END_LINE__, &amp;block) pending</a> <h3>Instance methods inherited from module <code><a href="../spec/expectations/">Spec::Expectations</a></code>
</h3> <a href="../spec/expectations/#be%28value%29-instance-method" class="tooltip"> be(value)<br>be be</a>, <a href="../spec/expectations/#be_close%28expected%2Cdelta%29-instance-method" class="tooltip"> be_close(expected, delta) be_close</a>, <a href="../spec/expectations/#be_false-instance-method" class="tooltip"> be_false be_false</a>, <a href="../spec/expectations/#be_falsey-instance-method" class="tooltip"> be_falsey be_falsey</a>, <a href="../spec/expectations/#be_nil-instance-method" class="tooltip"> be_nil be_nil</a>, <a href="../spec/expectations/#be_true-instance-method" class="tooltip"> be_true be_true</a>, <a href="../spec/expectations/#be_truthy-instance-method" class="tooltip"> be_truthy be_truthy</a>, <a href="../spec/expectations/#contain%28expected%29-instance-method" class="tooltip"> contain(expected) contain</a>, <a href="../spec/expectations/#eq%28value%29-instance-method" class="tooltip"> eq(value) eq</a>, <a href="../spec/expectations/#match%28value%29-instance-method" class="tooltip"> match(value) match</a> </div> <h2>Method Detail</h2> <div class="entry-detail" id="`(command):String-class-method"> <h3 class="signature">def <strong>`</strong>(command) : <a href="../string/">String</a><a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/process.cr#L459" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Returns the standard output of executing <em>command</em> in a subshell. Standard input, and error are inherited. The special <code>$?</code> variable is set to a <code><a href="../process/status/">Process::Status</a></code> associated with this execution.</p> <p>Example:</p> <pre data-language="crystal">`echo hi` # =&gt; "hi\n"</pre>
</div>   </div> <div class="entry-detail" id="abort(message,status=1):NoReturn-class-method"> <h3 class="signature">def <strong>abort</strong>(message, status = 1) : NoReturn<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/kernel.cr#L176" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>Terminates execution immediately, printing <em>message</em> to <code><a href="../toplevel/#STDERR">STDERR</a></code> and then calling <code><a href="../toplevel/#exit%28status%3D0%29%3ANoReturn-class-method">exit(status)</a></code>.</p></div>   </div> <div class="entry-detail" id="at_exit(&amp;handler:Int32-&gt;):Nil-class-method"> <h3 class="signature">def <strong>at_exit</strong>(&amp;handler : <a href="../int32/">Int32</a> -&gt; ) : <a href="../nil/">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/kernel.cr#L159" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Registers the given <code><a href="../proc/">Proc</a></code> for execution when the program exits. If multiple handlers are registered, they are executed in reverse order of registration.</p> <pre data-language="crystal">def do_at_exit(str1)
  at_exit { print str1 }
end

at_exit { puts "cruel world" }
do_at_exit("goodbye ")
exit</pre> <p>Produces:</p> <pre data-language="crystal">goodbye cruel world</pre>
</div>   </div> <div class="entry-detail" id="caller-class-method"> <h3 class="signature">def <strong>caller</strong><a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/callstack.cr#L20" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="delay(delay,&amp;block:-&gt;_)-class-method"> <h3 class="signature">def <strong>delay</strong>(delay, &amp;block : -&gt; _)<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/concurrent/future.cr#L127" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Spawns a <code><a href="../fiber/">Fiber</a></code> to compute <em>&amp;block</em> in the background after <em>delay</em> has elapsed. Access to get is synchronized between fibers. <em>&amp;block</em> is only called once. May be canceled before <em>&amp;block</em> is called by calling <code>cancel</code>.</p> <pre data-language="crystal">d = delay(1) { Process.kill(Signal::KILL, Process.pid) }
# ... long operations ...
d.cancel</pre>
</div>   </div> <div class="entry-detail" id="exit(status=0):NoReturn-class-method"> <h3 class="signature">def <strong>exit</strong>(status = 0) : NoReturn<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/kernel.cr#L167" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Terminates execution immediately, returning the given status code to the invoking environment.</p> <p>Registered <code><a href="../toplevel/#at_exit%28%26handler%3AInt32-%3E%29%3ANil-class-method">at_exit</a></code> procs are executed.</p>
</div>   </div> <div class="entry-detail" id="fork-class-method"> <h3 class="signature">def <strong>fork</strong><a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/process.cr#L473" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>See also: <code>Process.fork</code></p></div>   </div> <div class="entry-detail" id="fork(&amp;block)-class-method"> <h3 class="signature">def <strong>fork</strong>(&amp;block)<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/process.cr#L468" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>See also: <code>Process.fork</code></p></div>   </div> <div class="entry-detail" id="future(&amp;exp:-&gt;_)-class-method"> <h3 class="signature">def <strong>future</strong>(&amp;exp : -&gt; _)<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/concurrent/future.cr#L138" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Spawns a <code><a href="../fiber/">Fiber</a></code> to compute <em>&amp;block</em> in the background. Access to get is synchronized between fibers. <em>&amp;block</em> is only called once.</p> <pre data-language="crystal">f = future { `echo hello` }
# ... other actions ...
f.get # =&gt; "hello\n"</pre>
</div>   </div> <div class="entry-detail" id="gets(*args,**options)-class-method"> <h3 class="signature">def <strong>gets</strong>(*args, **options)<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/kernel.cr#L33" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Reads a line from <code><a href="../toplevel/#STDIN">STDIN</a></code>.</p> <p>See also: <code>IO#gets</code>.</p>
</div>   </div> <div class="entry-detail" id="lazy(&amp;block:-&gt;_)-class-method"> <h3 class="signature">def <strong>lazy</strong>(&amp;block : -&gt; _)<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/concurrent/future.cr#L150" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Conditionally spawns a <code><a href="../fiber/">Fiber</a></code> to run <em>&amp;block</em> in the background. Access to get is synchronized between fibers. <em>&amp;block</em> is only called once. <em>&amp;block</em> doesn't run by default, only when <code>get</code> is called.</p> <pre data-language="crystal">l = lazy { expensive_computation }
spawn { maybe_use_computation(l) }
spawn { maybe_use_computation(l) }</pre>
</div>   </div> <div class="entry-detail" id="loop(&amp;block)-class-method"> <h3 class="signature">def <strong>loop</strong>(&amp;block)<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/kernel.cr#L22" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Repeatedly executes the block, passing an incremental <code><a href="../int32/">Int32</a></code> that starts with <code>0</code>.</p> <pre data-language="crystal">loop do |i|
  print "#{i}) "
  line = gets
  break unless line
  # ...
end</pre>
</div>   </div> <div class="entry-detail" id="main(argc:Int32,argv:Pointer(Pointer(UInt8)))-class-method"> <h3 class="signature">def <strong>main</strong>(argc : <a href="../int32/">Int32</a>, argv : <a href="../pointer/">Pointer</a>(<a href="../pointer/">Pointer</a>(<a href="../uint8/">UInt8</a>)))<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/crystal/main.cr#L134" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Main function that acts as C's main function. Invokes <code>Crystal.main</code>.</p> <p>Can be redefined. See <code>Crystal.main</code> for examples.</p>
</div>   </div> <div class="entry-detail" id="p(object)-class-method"> <h3 class="signature">def <strong>p</strong>(object)<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/kernel.cr#L89" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Pretty prints <em>object</em> to <code><a href="../toplevel/#STDOUT">STDOUT</a></code> followed by a newline. Returns <em>object</em>.</p> <p>See also: <code>Object#pretty_print(pp)</code>.</p>
</div>   </div> <div class="entry-detail" id="p(*objects)-class-method"> <h3 class="signature">def <strong>p</strong>(*objects)<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/kernel.cr#L99" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Pretty prints each object in <em>objects</em> to <code><a href="../toplevel/#STDOUT">STDOUT</a></code>, followed by a newline. Returns <em>objects</em>.</p> <p>See also: <code>Object#pretty_print(pp)</code>.</p>
</div>   </div> <div class="entry-detail" id="p-class-method"> <h3 class="signature">def <strong>p</strong><a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/kernel.cr#L114" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Pretty prints each object in <em>objects</em> to <code><a href="../toplevel/#STDOUT">STDOUT</a></code>, followed by a newline. Returns <em>objects</em>.</p> <pre data-language="crystal">p foo: 23, bar: 42 # =&gt; {foo: 23, bar: 42}</pre> <p>See <code>Object#pretty_print(pp)</code></p>
</div>   </div> <div class="entry-detail" id="print(*objects:_):Nil-class-method"> <h3 class="signature">def <strong>print</strong>(*objects : _) : <a href="../nil/">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/kernel.cr#L47" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Prints objects to STDOUT and then invokes <code>STDOUT.flush</code>.</p> <p>See also: <code>IO#print</code>.</p>
</div>   </div> <div class="entry-detail" id="printf(format_string,*args):Nil-class-method"> <h3 class="signature">def <strong>printf</strong>(format_string, *args) : <a href="../nil/">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/kernel.cr#L55" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Prints a formatted string to <code><a href="../toplevel/#STDOUT">STDOUT</a></code>.</p> <p>See also: <code>IO#printf</code>.</p>
</div>   </div> <div class="entry-detail" id="printf(format_string,args:Array|Tuple):Nil-class-method"> <h3 class="signature">def <strong>printf</strong>(format_string, args : <a href="../array/">Array</a> | <a href="../tuple/">Tuple</a>) : <a href="../nil/">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/kernel.cr#L60" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Prints a formatted string to <code><a href="../toplevel/#STDOUT">STDOUT</a></code>.</p> <p>See also: <code>IO#printf</code>.</p>
</div>   </div> <div class="entry-detail" id="puts(*objects):Nil-class-method"> <h3 class="signature">def <strong>puts</strong>(*objects) : <a href="../nil/">Nil</a><a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/kernel.cr#L81" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Prints objects to <code><a href="../toplevel/#STDOUT">STDOUT</a></code>, each followed by a newline.</p> <p>See also: <code>IO#puts</code>.</p>
</div>   </div> <div class="entry-detail" id="raise(exception:Exception):NoReturn-class-method"> <h3 class="signature">def <strong>raise</strong>(exception : <a href="../exception/">Exception</a>) : NoReturn<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/raise.cr#L182" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Raises the <em>exception</em>.</p> <p>This will set the exception's callstack if it hasn't been already. Re-raising a previously catched exception won't replace the callstack.</p>
</div>   </div> <div class="entry-detail" id="raise(message:String):NoReturn-class-method"> <h3 class="signature">def <strong>raise</strong>(message : <a href="../string/">String</a>) : NoReturn<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/raise.cr#L193" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>Raises an Exception with the <em>message</em>.</p></div>   </div> <div class="entry-detail" id="rand(x)-class-method"> <h3 class="signature">def <strong>rand</strong>(x)<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/random.cr#L393" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>See <code>Random#rand(x)</code>.</p></div>   </div> <div class="entry-detail" id="rand-class-method"> <h3 class="signature">def <strong>rand</strong><a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/random.cr#L388" target="_blank" class="view-source">Source</a>
</h3> <div class="doc"><p>See <code>Random#rand</code>.</p></div>   </div> <div class="entry-detail" id="read_line(*args,**options)-class-method"> <h3 class="signature">def <strong>read_line</strong>(*args, **options)<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/kernel.cr#L40" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Reads a line from <code><a href="../toplevel/#STDIN">STDIN</a></code>.</p> <p>See also: <code>IO#read_line</code>.</p>
</div>   </div> <div class="entry-detail" id="sleep-class-method"> <h3 class="signature">def <strong>sleep</strong><a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/concurrent.cr#L27" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Blocks the current fiber forever.</p> <p>Meanwhile, other ready-to-execute fibers might start their execution.</p>
</div>   </div> <div class="entry-detail" id="sleep(time:Time::Span)-class-method"> <h3 class="signature">def <strong>sleep</strong>(time : <a href="../time/span/">Time::Span</a>)<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/concurrent.cr#L20" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Blocks the current Fiber for the specified time span.</p> <p>While this fiber is waiting this time other ready-to-execute fibers might start their execution.</p>
</div>   </div> <div class="entry-detail" id="sleep(seconds:Number)-class-method"> <h3 class="signature">def <strong>sleep</strong>(seconds : <a href="../number/">Number</a>)<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/concurrent.cr#L8" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Blocks the current fiber for the specified number of seconds.</p> <p>While this fiber is waiting this time other ready-to-execute fibers might start their execution.</p>
</div>   </div> <div class="entry-detail" id="spawn(*,name:String?=nil,&amp;block)-class-method"> <h3 class="signature">def <strong>spawn</strong>(*, name : <a href="../string/">String</a>? = nil, &amp;block)<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/concurrent.cr#L59" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Spawns a new fiber.</p> <p>The newly created fiber doesn't run as soon as spawned.</p> <p>Example:</p> <pre data-language="crystal"># Write "1" every 1 second and "2" every 2 seconds for 6 seconds.

ch = Channel(Nil).new

spawn do
  6.times do
    sleep 1
    puts 1
  end
  ch.send(nil)
end

spawn do
  3.times do
    sleep 2
    puts 2
  end
  ch.send(nil)
end

2.times { ch.receive }</pre>
</div>   </div> <div class="entry-detail" id="sprintf(format_string,*args):String-class-method"> <h3 class="signature">def <strong>sprintf</strong>(format_string, *args) : <a href="../string/">String</a><a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/kernel.cr#L67" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Returns a formatted string.</p> <p>See also: <code>IO#printf</code>.</p>
</div>   </div> <div class="entry-detail" id="sprintf(format_string,args:Array|Tuple):String-class-method"> <h3 class="signature">def <strong>sprintf</strong>(format_string, args : <a href="../array/">Array</a> | <a href="../tuple/">Tuple</a>) : <a href="../string/">String</a><a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/kernel.cr#L72" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Returns a formatted string.</p> <p>See also: <code>IO#printf</code>.</p>
</div>   </div> <div class="entry-detail" id="system(command:String,args=nil):Bool-class-method"> <h3 class="signature">def <strong>system</strong>(command : <a href="../string/">String</a>, args = nil) : <a href="../bool/">Bool</a><a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/process.cr#L444" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Executes the given command in a subshell. Standard input, output and error are inherited. Returns <code>true</code> if the command gives zero exit code, <code>false</code> otherwise. The special <code>$?</code> variable is set to a <code><a href="../process/status/">Process::Status</a></code> associated with this execution.</p> <p>If <em>command</em> contains no spaces and <em>args</em> is given, it will become its argument list.</p> <p>If <em>command</em> contains spaces and <em>args</em> is given, <em>command</em> must include <code>"${@}"</code> (including the quotes) to receive the argument list.</p> <p>No shell interpretation is done in <em>args</em>.</p> <p>Example:</p> <pre data-language="crystal">system("echo *")</pre> <p>Produces:</p> <pre data-language="crystal">LICENSE shard.yml Readme.md spec src</pre>
</div>   </div> <div class="entry-detail" id="with_color(color:Symbol)-class-method"> <h3 class="signature">def <strong>with_color</strong>(color : <a href="../symbol/">Symbol</a>)<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/colorize.cr#L108" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="with_color-class-method"> <h3 class="signature">def <strong>with_color</strong><a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/colorize.cr#L104" target="_blank" class="view-source">Source</a>
</h3>   </div> <h2>Macro Detail</h2> <div class="entry-detail" id="assert_responds_to(var,method)-macro"> <h3 class="signature">macro <strong>assert_responds_to</strong>(var, method)<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/macros.cr#L124" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="debugger-macro"> <h3 class="signature">macro <strong>debugger</strong><a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/intrinsics.cr#L24" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="parallel(*jobs)-macro"> <h3 class="signature">macro <strong>parallel</strong>(*jobs)<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/concurrent.cr#L131" target="_blank" class="view-source">Source</a>
</h3>   </div> <div class="entry-detail" id="pp(*exps)-macro"> <h3 class="signature">macro <strong>pp</strong>(*exps)<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/macros.cr#L95" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Prints a series of expressions together with their values. Useful for print style debugging.</p> <pre data-language="crystal">a = 1
pp a # =&gt; "a # =&gt; 1"

pp [1, 2, 3].map(&amp;.to_s) # =&gt; "[1, 2, 3].map(&amp;.to_s) # =&gt; ["1", "2", "3"]"</pre>
</div>   </div> <div class="entry-detail" id="record(name,*properties)-macro"> <h3 class="signature">macro <strong>record</strong>(name, *properties)<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/macros.cr#L49" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Defines a <strong><code><a href="../struct/">Struct</a></code></strong> with the given name and properties.</p> <p>The generated struct has a constructor with the given properties in the same order as declared. The struct only provides getters, not setters, making it immutable by default.</p> <p>The properties can be type declarations or assignments.</p> <p>You can pass a block to this macro, that will be inserted inside the struct definition.</p> <pre data-language="crystal">record Point, x : Int32, y : Int32

Point.new 1, 2 # =&gt; #&lt;Point(@x=1, @y=2)&gt;</pre> <p>An example with the block version:</p> <pre data-language="crystal">record Person, first_name : String, last_name : String do
  def full_name
    "#{first_name} #{last_name}"
  end
end

person = Person.new "John", "Doe"
person.full_name # =&gt; "John Doe"</pre> <p>An example with type declarations and default values:</p> <pre data-language="crystal">record Point, x : Int32 = 0, y : Int32 = 0

Point.new      # =&gt; #&lt;Point(@x=0, @y=0)&gt;
Point.new y: 2 # =&gt; #&lt;Point(@x=0, @y=2)&gt;</pre> <p>An example with assignments (in this case the compiler must be able to infer the types from the default values):</p> <pre data-language="crystal">record Point, x = 0, y = 0

Point.new      # =&gt; #&lt;Point(@x=0, @y=0)&gt;
Point.new y: 2 # =&gt; #&lt;Point(@x=0, @y=2)&gt;</pre>
</div>   </div> <div class="entry-detail" id="spawn(call,*,name=nil)-macro"> <h3 class="signature">macro <strong>spawn</strong>(call, *, name = nil)<a href="https://github.com/crystal-lang/crystal/blob/80a975cf0a98a4ce8464d0069145131667becd70/src/concurrent.cr#L95" target="_blank" class="view-source">Source</a>
</h3> <div class="doc">
<p>Spawns a fiber by first creating a <code><a href="../proc/">Proc</a></code>, passing the <em>call</em>'s expressions to it, and letting the <code><a href="../proc/">Proc</a></code> finally invoke the <em>call</em>.</p> <p>Compare this:</p> <pre data-language="crystal">i = 0
while i &lt; 5
  spawn { print(i) }
  i += 1
end
Fiber.yield
# Output: 55555</pre> <p>To this:</p> <pre data-language="crystal">i = 0
while i &lt; 5
  spawn print(i)
  i += 1
end
Fiber.yield
# Output: 01234</pre> <p>This is because in the first case all spawned fibers refer to the same local variable, while in the second example copies of <em>i</em> are passed to a <code><a href="../proc/">Proc</a></code> that eventually invokes the call.</p>
</div>   </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2017 Manas Technology Solutions.<br>Licensed under the Apache License, Version 2.0.<br>
    <a href="https://crystal-lang.org/api/0.24.1/toplevel.html" class="_attribution-link" target="_blank">https://crystal-lang.org/api/0.24.1/toplevel.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
