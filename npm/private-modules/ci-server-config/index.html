
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>02 - Downloading Modules to CI&#47;deployment Servers - Npm - W3cubDocs</title>
  
  <meta name="description" content="If you are using deployment servers or testing with CI servers, you&#39;ll need a way to download your private modules to those servers. To do this &hellip;">
  <meta name="keywords" content="downloading, modules, ci, deployment, servers, -, npm">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/npm/private-modules/ci-server-config/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-e0f881b0fce8cbe96f33dadc355b7159d5d2912911231446d60eb8f9caffa802.css">
  <script type="text/javascript" src="/assets/application-8fc46316434047265cd383f02b8e7f434ed7dec4a59f920dd633deef8d488d1b.js"></script>
  <script src="/json/npm.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/npm/" class="_nav-link" title="" style="margin-left:0;">npm</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _npm">
				
<h1 id="downloading-modules-to-cideployment-servers">Downloading modules to CI/deployment servers</h1> <p>If you are using deployment servers or testing with CI servers, you'll need a way to download your private modules to those servers. To do this, you can set up an <a href="../../files/npmrc/"><code>.npmrc</code></a> file which will authenticate your server with npm.</p> <h2 id="getting-an-authentication-token">Getting an authentication token</h2> <p>One of the things that has changed in npm is that we now use auth tokens to authenticate in the CLI. To generate an auth token, you can log in on any machine. You'll end up with a line in your <a href="../../files/npmrc/"><code>.npmrc</code></a> file that looks like this:</p> <pre>//registry.npmjs.org/:_authToken=00000000-0000-0000-0000-000000000000
</pre>
<p>The token is not derived from your password, but changing your password will invalidate all tokens. The token will be valid until the password is changed. You can also invalidate a single token by logging out on a machine that is logged in with that token.</p> <h2 id="setting-up-environment-variables">Setting up environment variables</h2> <p>To make this more secure when pushing it up to the server, you can set this token as an environment variable on the server. For example, in Heroku you would do this:</p> <pre>heroku config:set NPM_TOKEN=00000000-0000-0000-0000-000000000000 --app=application_name
</pre>
<p>You will also need to add this to your environment variables on your development machine. In OSX or Linux, you would add this line to your <code>~/.profile</code>:</p> <pre>export NPM_TOKEN="00000000-0000-0000-0000-000000000000"
</pre>
<p>and then refresh your environment variables:</p> <pre>source ~/.profile
</pre>
<h2 id="checking-in-your-npmrc">Checking in your <code>.npmrc</code>
</h2> <p>Then you can check in the <a href="../../files/npmrc/"><code>.npmrc</code></a> file, replacing your token with the environment variable.</p> <pre>//registry.npmjs.org/:_authToken=${NPM_TOKEN}
</pre>
<div class="_attribution">
  <p class="_attribution-p">
    Â© npm, Inc. and Contributors<br>Licensed under the npm License.<br>npm is a trademark of npm, Inc.<br>
    <a href="https://docs.npmjs.com/private-modules/ci-server-config" class="_attribution-link" target="_blank">https://docs.npmjs.com/private-modules/ci-server-config</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
