
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Module_Interface - Erlang 20 - W3cubDocs</title>
  
  <meta name="description" content=" Module_Interface ">
  <meta name="keywords" content="module, interface, -, erlang, erlang~20">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/erlang~20/lib/orber-3.8.3/doc/html/module_interface/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-e0f881b0fce8cbe96f33dadc355b7159d5d2912911231446d60eb8f9caffa802.css">
  <script type="text/javascript" src="/assets/application-8fc46316434047265cd383f02b8e7f434ed7dec4a59f920dd633deef8d488d1b.js"></script>
  <script src="/json/erlang~20.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/erlang~20/" class="_nav-link" title="" style="margin-left:0;">Erlang 20</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _erlang">
				
<h1>Module_Interface</h1> <h2 id="module">Module</h2> <p class="REFBODY module-body">Module_Interface</p> <h2 id="module-summary">Module Summary</h2> <p class="REFBODY module-summary-body">Orber generated stubs/skeletons.</p> <h2 id="description">Description</h2> 
<p>This module contains the stub/skeleton functions generated by IC.</p> <p>Starting a Orber server can be done in three ways:</p> <ul> <li>Normal - when the server dies Orber forgets all knowledge of the server.</li> <li>Supervisor child - adding the configuration parameter <code class="code">{sup_child, true}</code> the <code class="code">oe_create_link/2</code> function returns <code class="code">{ok, Pid, ObjRef}</code> which can be handled by the application <strong>supervisor/stdlib-1.7</strong> or later. </li> <li>Persistent object reference - adding the configuration parameters <code class="code">{persistent, true}</code> and <code class="code">{regname, {global, term()}}</code> Orber will remember the object reference until the server terminates with reason <strong>normal</strong> or <strong>shutdown</strong>. Hence, if the server is started as a <strong>transient</strong> supervisor child we do not receive a 'OBJECT_NOT_EXIST' exception when it has crashed and is being restarted.</li> </ul> <p>The Orber stub can be used to start a <code class="code">pseudo object</code>, which will create a non-server implementation. A pseudo object introduce some limitations:</p> <ul> <li>The functions <code class="code">oe_create_link/2</code> is equal to <code class="code">oe_create/2</code>, i.e., no link can or will be created.</li> <li>The <code class="code">BIF:s self()</code> and <code class="code">process_flag(trap_exit,true)</code> behaves incorrectly.</li> <li>The <code class="code">IC</code> option <code class="code">{{impl, "M::I"}, "other_impl"}</code> has no effect. The call-back functions must be implemented in a file called <code class="code">M_I_impl.erl</code> </li> <li>The <code class="code">IC</code> option <code class="code">from</code> has no effect. </li> <li>The call-back functions must be implemented as if the <code class="code">IC</code> option <code class="code">{this, "M::I"}</code> was used.</li> <li>Server <code class="code">State</code> changes have no effect. The user can provide information via the <code class="code">Env</code> start parameter and the State returned from <code class="code">init/2</code> will be the State passed in following invocations.</li> <li>If a call-back function replies with the <code class="code">Timeout</code> parameter set it have no effect.</li> <li>Operations defined as <code class="code">oneway</code> are blocking until the operation replies.</li> <li>The option <code class="code">{pseudo, true}</code> overrides all other start options.</li> <li>Only the functions, besides own definitions, <code class="code">init/2</code> (called via oe_create*/2) and <code class="code">terminate/2</code> (called via corba:dispose/1) must be implemented.</li> </ul> <p>By adopting the rules for <code class="code">pseudo</code> objects described above we can use <code class="code">oe_create/2</code> to create <code class="code">server</code> or <code class="code">pseudo</code> objects, by excluding or including the option <code class="code">{pseudo, true}</code>, without changing the call-back module. </p> <p>If you start a object without <code class="code">{regname, RegName}</code> it can only be accessed through the returned object key. Started with a <code class="code">{regname, RegName}</code> the name is registered locally or globally. </p> <div class="warning"> <div class="label">Warning</div> <div class="content">

<p>To avoid flooding Orber with old object references start erlang using the flag <strong>-orber objectkeys_gc_time Time</strong>, which will remove all object references related to servers being dead for Time seconds. To avoid extra overhead, i.e., performing garbage collect if no persistent objects are started, the objectkeys_gc_time default value is <strong>infinity</strong>. For more information, see the orber and corba documentation.</p> </div> </div>  <h2 id="exports">Exports</h2> <div class="exports-body"> <h3><code id="Module_Interface:typeID-0">Module_Interface:typeID() -&gt; TypeId</code></h3>  <h2 class="func-types-title">Types</h2>   
<p>Returns the Type ID related to this stub/skeleton</p>  <h3><code id="Module_Interface:oe_create-0">Module_Interface:oe_create() -&gt; ObjRef</code></h3>  <h2 class="func-types-title">Types</h2>   
<p>Start a Orber server.</p>  <h3><code id="Module_Interface:oe_create_link-0">Module_Interface:oe_create_link() -&gt; ObjRef</code></h3>  <h2 class="func-types-title">Types</h2>   
<p>Start a linked Orber server.</p>  <h3><code id="Module_Interface:oe_create-1">Module_Interface:oe_create(Env) -&gt; ObjRef</code></h3>  <h2 class="func-types-title">Types</h2>    
<p>Start a Orber server passing Env to <code class="code">init/1</code>.</p>  <h3><code id="Module_Interface:oe_create_link-1">Module_Interface:oe_create_link(Env) -&gt; ObjRef</code></h3>  <h2 class="func-types-title">Types</h2>    
<p>Start a linked Orber server passing Env to <code class="code">init/1</code>.</p>  <h3><code id="Module_Interface:oe_create-2">Module_Interface:oe_create(Env, Options) -&gt; ObjRef</code></h3>  <h2 class="func-types-title">Types</h2>         
<p>Start a Orber server passing Env to <code class="code">init/1</code>.</p> <p>If the option <code class="code">{pseudo, true}</code> is used, all other options are overridden. As default, this option is set to false.</p> <p>This function cannot be used for starting a server as supervisor child. If started as <code class="code">persistent</code>, the options <code class="code">[{persistent, true}, {regname, {global, term()}}]</code> must be used and Orber will only forget the object reference if it terminates with reason <strong>normal</strong> or <strong>shutdown</strong>.</p> <p>The option <code class="code">{local_typecheck, boolean()}</code>, which overrides the <code><a href="../ch_install/#flags">Local Typechecking</a></code> environment flag, turns on or off typechecking. If activated, parameters, replies and raised exceptions will be checked to ensure that the data is correct, when invoking operations on CORBA Objects within the same Orber domain. Due to the extra overhead, this option <strong>MAY ONLY</strong> be used during testing and development.</p> <p><code class="code">{survive_exit, boolean()}</code> overrides the <code><a href="../ch_install/#flags">EXIT Tolerance</a></code> environment flag. If activated, the server will not terminate, even though the call-back module returns EXIT.</p> <p><code class="code">Time</code> specifies how long time, in milliseconds, the server is allowed to spend initializing. For more information about the <code class="code">Dbg</code> options, see the <code class="code">sys</code> module.</p>  <h3><code id="Module_Interface:oe_create_link-2">Module_Interface:oe_create_link(Env, Options) -&gt; Return</code></h3>  <h2 class="func-types-title">Types</h2>             
<p>Start a linked Orber server passing Env to <code class="code">init/1</code>.</p> <p>If the option <code class="code">{pseudo, true}</code> is used, all other options are overridden and no link will be created. As default, this option is set to false.</p> <p>This function can be used for starting a server as persistent or supervisor child. At the moment <code class="code">[{persistent, true}, {regname, {global, term()}}]</code> must be used to start a server as persistent, i.e., if a server died and is in the process of being restarted a call to the server will not raise <code class="code">'OBJECT_NOT_EXIST'</code> exception. Orber will only forget the object reference if it terminates with reason <strong>normal</strong> or <strong>shutdown</strong>, hence, the server must be started as <strong>transient</strong> (for more information see the supervisor documentation).</p> <p>The options <code class="code">{local_typecheck, boolean()}</code> and <code class="code">{survive_exit, boolean()}</code> behaves in the same way as for <code class="code">oe_create/2</code>.</p> <p><code class="code">Time</code> specifies how long time, in milliseconds, the server is allowed to spend initializing. For more information about the <code class="code">Dbg</code> options, see the <code class="code">sys</code> module.</p>  <h3>
<code id="Module_Interface:own_functions-4">Module_Interface:own_functions(ObjRef, Arg1, ..., ArgN) -&gt; Reply</code><code id="Module_Interface:own_functions-5">Module_Interface:own_functions(ObjRef, Options, Arg1, ..., ArgN) -&gt; Reply</code>
</h3>  <h2 class="func-types-title">Types</h2>               
<p>The default value for the <code class="code">Timeout</code> option is <code class="code">infinity</code>. IPv4 or IPv6 addresses are accepted as local Interface.</p> <p>The <strong>configuration</strong> context is used to override the global SSL client side <code><a href="../ch_install/#config">configuration</a></code>.</p> <p>To gain access to <code class="code">#'IOP_ServiceContext'{}</code> record and the <code class="code">?ORBER_GENERIC_CTX_ID</code> macro, you must add <code class="code">-include_lib("orber/include/corba.hrl").</code> to your module.</p>  </div> <h2 id="id96486">Callback functions</h2>  <p>The following functions should be exported from a <code class="code">CORBA</code> callback module. Note, a complete template of the call-back module can be generated automatically by compiling the IDL-file with the IC option <code class="code">{be,erl_template}</code>. One should also add the same compile options, for example <code class="code">this</code> or <code class="code">from</code>, used when generating the stub/skeleton modules.</p>  <h2 id="exports">Exports</h2> <div class="exports-body"> <h3><code id="Module_Interface_impl:init-1">Module_Interface_impl:init(Env) -&gt; CallReply</code></h3>  <h2 class="func-types-title">Types</h2>       
<p>Whenever a new server is started, <strong>init/1</strong> is the first function called in the specified call-back module.</p>  <h3><code id="Module_Interface_impl:terminate-2">Module_Interface_impl:terminate(Reason, State) -&gt; ok</code></h3>  <h2 class="func-types-title">Types</h2>    
<p>This call-back function is called whenever the server is about to terminate.</p>  <h3><code id="Module_Interface_impl:code_change-3">Module_Interface_impl:code_change(OldVsn, State, Extra) -&gt; CallReply</code></h3>  <h2 class="func-types-title">Types</h2>       
<p>Update the internal <code class="code">State</code>.</p>  <h3><code id="Module_Interface_impl:handle_info-2">Module_Interface_impl:handle_info(Info, State) -&gt; CallReply</code></h3>  <h2 class="func-types-title">Types</h2>       
<p>If the configuration parameter <strong>{{handle_info, "Module::Interface"}, true}</strong> is passed to IC and <strong>process_flag(trap_exit,true)</strong> is set in the <strong>init()</strong> call-back this function must be exported. </p> <div class="note"> <div class="label">Note</div> <div class="content">

<p>To be able to handle the <code class="code">Timeout</code> option in <code class="code">CallReply</code> in the call-back module the configuration parameter <strong>{{handle_info, "Module::Interface"}, true}</strong> must be passed to IC. </p> </div> </div>  <h3>
<code id="Module_Interface_impl:own_functions-4">Module_Interface_impl:own_functions(State, Arg1, ..., ArgN) -&gt; CallReply</code><code id="Module_Interface_impl:own_functions-5">Module_Interface_impl:own_functions(This, State, Arg1, ..., ArgN) -&gt; CallReply</code><code id="Module_Interface_impl:own_functions-6">Module_Interface_impl:own_functions(This, From, State, Arg1, ..., ArgN) -&gt; ExtCallReply</code><code id="Module_Interface_impl:own_functions-5">Module_Interface_impl:own_functions(From, State, Arg1, ..., ArgN) -&gt; ExtCallReply</code>
</h3>  <h2 class="func-types-title">Types</h2>          
<p>All two-way functions must return one of the listed replies or raise any of the exceptions listed in the IDL code (i.e. raises(...)). If the IC compile options <strong>this</strong> and/or <strong>from</strong> are used, the implementation must accept the <strong>This</strong> and/or <strong>From</strong> parameters.</p>  <h3>
<code id="Module_Interface_impl:own_functions-4">Module_Interface_impl:own_functions(State, Arg1, ..., ArgN) -&gt; CastReply</code><code id="Module_Interface_impl:own_functions-5">Module_Interface_impl:own_functions(This, State, Arg1, ..., ArgN) -&gt; CastReply</code>
</h3>  <h2 class="func-types-title">Types</h2>         
<p>All one-way functions must return one of the listed replies. If the IC compile option <strong>this</strong> is used, the implementation must accept the <strong>This</strong> parameter.</p>  </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010–2017 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
