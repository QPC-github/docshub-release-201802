
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Orber - Erlang 20 - W3cubDocs</title>
  
  <meta name="description" content=" orber ">
  <meta name="keywords" content="orber, -, erlang, erlang~20">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/erlang~20/lib/orber-3.8.3/doc/html/orber/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-e0f881b0fce8cbe96f33dadc355b7159d5d2912911231446d60eb8f9caffa802.css">
  <script type="text/javascript" src="/assets/application-8fc46316434047265cd383f02b8e7f434ed7dec4a59f920dd633deef8d488d1b.js"></script>
  <script src="/json/erlang~20.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/erlang~20/" class="_nav-link" title="" style="margin-left:0;">Erlang 20</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _erlang">
				
<h1>orber</h1> <h2 id="module">Module</h2> <p class="REFBODY module-body">orber</p> <h2 id="module-summary">Module Summary</h2> <p class="REFBODY module-summary-body">The main module of the Orber application</p> <h2 id="description">Description</h2> 
<p>This module contains the functions for starting and stopping the application. It also has some utility functions to get some of the configuration information from running application.</p>  <h2 id="exports">Exports</h2> <div class="exports-body"> <h3>
<code id="start-0">start() -&gt; ok</code><code id="start-1">start(Type) -&gt; ok</code>
</h3>  <h2 class="func-types-title">Types</h2>   
<p>Starts the Orber application (it also starts mnesia if it is not running). Which <code class="code">Type</code> parameter is supplied determines the behavior. If not supplied Orber is started as <code class="code">temporary</code>. See the Reference Manual <strong>application(3)</strong> for further information. </p>  <h3><code id="jump_start-1">jump_start(Attributes) -&gt; ok | {'EXIT', Reason}</code></h3>  <h2 class="func-types-title">Types</h2>       
<p>Installs and starts the Orber and the Mnesia applications with the configuration parameters <code class="code">domain</code> and <code class="code">iiop_port</code> set to <code class="code">"IP-number:Port"</code> and the supplied Port respectively. Theses settings are in most cases sufficient to ensure that no clash with any other Orber instance occur. If this operation fails, check if the listen port (iiop_port) is already in use. This function <strong>MAY ONLY</strong> be used during development and tests; how Orber is configured when using this operation may change at any time without warning.</p>  <h3><code id="stop-0">stop() -&gt; ok</code></h3> 
<p>Stops the Orber application.</p>  <h3>
<code id="info-0">info() -&gt; ok</code><code id="info-1">info(IoType) -&gt; ok | {'EXIT', Reason} | string()</code>
</h3>  <h2 class="func-types-title">Types</h2>   
<p>Generates an Info Report, which contain Orber's configuration settings. If no <code class="code">IoType</code> is supplied, <code class="code">info_msg</code> is used (see the error_logger documentation). When the atom string is supplied this function will return a flat list. For <code class="code">io</code> and <code class="code">{io, IoDevice}</code>, <code class="code">io:format/1</code> and <code class="code">io:format/3</code> is used respectively.</p>  <h3><code id="exception_info-1">exception_info(Exception) -&gt; {ok, string()} | {error, Reason}</code></h3> 
<p>Returns a printable string, which describes the supplied exception in greater detail. Note, this function is mainly intended for system exceptions.</p>  <h3><code id="is_system_exception-1">is_system_exception(Exception) -&gt; true | false</code></h3> 
<p>Returns true if the supplied exception is a system defined exception, otherwise false.</p>  <h3><code id="get_tables-0">get_tables() -&gt; [Tables]</code></h3> 
<p>Returns a list of the Orber specific Mnesia tables. This list is required to restore Mnesia if it has been partitioned.</p>  <h3><code id="get_ORBInitRef-0">get_ORBInitRef() -&gt; string() | undefined</code></h3> 
<p>This function returns undefined if we will resolve references locally, otherwise a string describing which host we will contact if the Key given to <code class="code">corba:resolve_initial_references/1</code> matches the Key set in this configuration variable. For more information see the user's guide.</p>  <h3><code id="get_ORBDefaultInitRef-0">get_ORBDefaultInitRef() -&gt; string() | undefined</code></h3> 
<p>This function returns undefined if we will resolve references locally, otherwise a string describing which host, or hosts, from which we will try to resolve the Key given to <code class="code">corba:resolve_initial_references/1</code>. For more information see the user's guide.</p>  <h3><code id="domain-0">domain() -&gt; string()</code></h3> 
<p>This function returns the domain name of the current Orber domain as a string.</p>  <h3><code id="iiop_port-0">iiop_port() -&gt; int()</code></h3> 
<p>This function returns the port-number, which is used by the IIOP protocol. It can be configured by setting the application variable <strong>iiop_port</strong>, if it is not set it will have the default number 4001.</p>  <h3><code id="iiop_out_ports-0">iiop_out_ports() -&gt; 0 | {Min, Max}</code></h3> 
<p>The return value of this operation is what the configuration parameter <code><a href="../ch_install/#config">iiop_out_ports</a></code> has been set to.</p>  <h3><code id="iiop_out_ports_random-0">iiop_out_ports_random() -&gt; true | false</code></h3> 
<p>Return the value of the configuration parameter <code><a href="../ch_install/#config">iiop_out_ports_random</a></code>.</p>  <h3><code id="iiop_out_ports_attempts-0">iiop_out_ports_attempts() -&gt; int()</code></h3> 
<p>Return the value of the configuration parameter <code><a href="../ch_install/#config">iiop_out_ports_attempts</a></code>.</p>  <h3><code id="iiop_ssl_port-0">iiop_ssl_port() -&gt; int()</code></h3> 
<p>This function returns the port-number, which is used by the secure IIOP protocol. It can be configured by setting the application variable <strong>iiop_ssl_port</strong>, if it is not set it will have the default number 4002 if Orber is to configured to run in secure mode. Otherwise it returns -1.</p>  <h3><code id="iiop_timeout-0">iiop_timeout() -&gt; int() (milliseconds)</code></h3> 
<p>This function returns the timeout value after which outgoing IIOP requests terminate. It can be configured by setting the application variable <strong>iiop_timeout TimeVal (seconds)</strong>, if it is not set it will have the default value <strong>infinity</strong>. If a request times out a system exception, e.g. <strong>TIMEOUT</strong>, is raised.</p> <p>Note: the iiop_timeout configuration parameter (TimeVal) may only range between 0 and 1000000 seconds. Otherwise, the default value is used.</p> <p>Note: Earlier IC versions required that the compile option <code class="code">{timeout,"module::interface"}</code>, was used, which allow the user to add an extra timeout parameter, e.g., <code class="code">module_interface:function(ObjRef, Timeout, ... Arguments ...)</code> or <code class="code">module_interface:function(ObjRef, [{timeout, Timeout}], ... Arguments ...)</code>, instead of <code class="code">module_interface:function(ObjRef, ... Arguments ...)</code>. This is no longer the case and if the extra Timeout is used, argument will override the configuration parameter <code class="code">iiop_timeout</code>. It is, however, not possible to use <code class="code">infinity</code> to override the Timeout parameter. The Timeout option is also valid for objects which resides within the same Orber domain.</p>  <h3><code id="iiop_connection_timeout-0">iiop_connection_timeout() -&gt; int() (milliseconds)</code></h3> 
<p>This function returns the timeout value after which outgoing IIOP connections terminate. It can be configured by setting the application variable <strong>iiop_connection_timeout TimeVal (seconds)</strong>, if it is not set it will have the default value <strong>infinity</strong>. The connection will not be terminated if there are pending requests.</p> <p>Note: the iiop_connection_timeout configuration parameter (TimeVal) may only range between 0 and 1000000 seconds. Otherwise, the default value is used.</p>  <h3>
<code id="iiop_connections-0">iiop_connections() -&gt; Result</code><code id="iiop_connections-1">iiop_connections(Direction) -&gt; Result</code>
</h3>  <h2 class="func-types-title">Types</h2>        
<p>The list returned by this operation contain tuples of remote hosts/ports Orber is currently connected to. If no Direction is not supplied, both incoming and outgoing connections are included.</p> <p>If a specific local interface has been defined for the connection, this will be added to the returned tuple.</p>  <h3><code id="iiop_connections_pending-0">iiop_connections_pending() -&gt; Result</code></h3>  <h2 class="func-types-title">Types</h2>       
<p>In some cases a connection attempt (i.e. trying to communicate with another ORB) may block due to a number of reasons. This operation allows the user to check if this is the case. The returned list contain tuples of remote hosts/ports. Normally, the list is empty.</p> <p>If a specific local interface has been defined for the connection, this will be added to the returned tuple.</p>  <h3><code id="iiop_in_connection_timeout-0">iiop_in_connection_timeout() -&gt; int() (milliseconds)</code></h3> 
<p>This function returns the timeout value after which incoming IIOP connections terminate. It can be configured by setting the application variable <strong>iiop_in_connection_timeout TimeVal (seconds)</strong>, if it is not set it will have the default value <strong>infinity</strong>. The connection will not be terminated if there are pending requests.</p> <p>Note: the iiop_in_connection_timeout configuration parameter (TimeVal) may only range between 0 and 1000000 seconds. Otherwise, the default value is used.</p>  <h3><code id="iiop_acl-0">iiop_acl() -&gt; Result</code></h3>  <h2 class="func-types-title">Types</h2>      
<p>Returns the ACL configuration. The <code class="code">Filter</code> uses a extended format of Classless Inter Domain Routing (CIDR). For example, <code class="code">"123.123.123.10"</code> limits the connection to that particular host, while <code class="code">"123.123.123.10/17"</code> allows connections to or from any host equal to the 17 most significant bits. Orber also allow the user to specify a certain port or port range, for example, <code class="code">"123.123.123.10/17#4001"</code> and <code class="code">"123.123.123.10/17#4001/5001"</code> respectively. IPv4 or none compressed IPv6 strings are accepted. <br> The list of <code class="code">Interfaces</code>, IPv4 or IPv6 strings, are currently only used for outgoing connections and may only contain <strong>one</strong> address. If set and access is granted, Orber will use that local interface when connecting to the other ORB. The module <code><a href="../orber_acl/">orber_acl</a></code> provides operations for evaluating the access control for filters and addresses.</p>  <h3>
<code id="activate_audit_trail-0">activate_audit_trail() -&gt; Result</code><code id="activate_audit_trail-1">activate_audit_trail(Verbosity) -&gt; Result</code>
</h3>  <h2 class="func-types-title">Types</h2>     
<p>Activates audit/trail for all existing incoming and outgoing IIOP connections. The <code class="code">Verbosity</code> parameter, <code class="code">stealth</code>, <code class="code">normal</code> or <code class="code">verbose</code>, determines which of the built in interceptors is used (<code class="code">orber_iiop_tracer_stealth</code>, <code class="code">orber_iiop_tracer_silent</code> or <code class="code">orber_iiop_tracer</code> respectively). If no verbosity level is supplied, then the <code class="code">normal</code> will be used.</p> <p>In case Orber is configured to use other interceptors, the audit/trail interceptors will simply be added to that list.</p>  <h3><code id="deactivate_audit_trail-0">deactivate_audit_trail() -&gt; Result</code></h3>  <h2 class="func-types-title">Types</h2>    
<p>Deactivates audit/trail for all existing incoming and outgoing IIOP connections. In case Orber is configured to use other interceptors, those will still be used.</p>  <h3>
<code id="add_listen_interface-2">add_listen_interface(IP, Type) -&gt; Result</code><code id="add_listen_interface-3">add_listen_interface(IP, Type, Port) -&gt; Result</code><code id="add_listen_interface-3">add_listen_interface(IP, Type, ConfigurationParameters) -&gt; Result</code>
</h3>  <h2 class="func-types-title">Types</h2>           
<p>Create a new process that handle requests for creating a new incoming IIOP connection via the given interface and port. If the latter is excluded, Orber will use the value of the <code class="code">iiop_port</code> or <code class="code">iiop_ssl_port</code> configuration parameters. The <code class="code">Type</code> parameter determines if it is supposed to be IIOP or IIOP via SSL. If successful, the returned <code class="code">#Ref</code> shall be passed to <code class="code">orber:remove_listen_interface/1</code> when the connection shall be terminated.</p> <p>It is also possible to supply configuration parameters that override the global configuration. The <strong>iiop_in_connection_timeout</strong>, <strong>iiop_max_fragments</strong>, <strong>iiop_max_in_requests</strong> and <strong>interceptors</strong> parameters simply overrides the global counterparts (See the <code><a href="../ch_install/#config">Configuration</a></code> chapter in the User's Guide). But for the following parameters there are a few restrictions:</p> <ul> <li> <strong>flags</strong> - currently it is only possible to override the global setting for the <code class="code">Use Current Interface in IOR</code> and <code class="code">Exclude CodeSet Component</code> flags.</li> <li> <strong>ip_family</strong> - can be set to <code class="code">inet</code> or <code class="code">inet6</code> and is used to get a listen interface that uses another IP version than the default set with flags at startup.</li> <li> <strong>iiop_port</strong> - requires that <code class="code">Use Current Interface in IOR</code> is activated and the supplied <code class="code">Type</code> is <code class="code">normal</code>. If so, exported IOR:s will contain the IIOP port defined by this configuration parameter. Otherwise, the global setting will be used.</li> <li> <strong>iiop_ssl_port</strong> - almost equivalent to <code class="code">iiop_port</code>. The difference is that <code class="code">Type</code> shall be <code class="code">ssl</code> and that exported IOR:s will contain the IIOP via SSL port defined by this configuration parameter.</li> </ul> <p>If it is not possible to add a listener based on the supplied interface and port, the error message is one of the ones described in <code class="code">inet</code> and/or <code class="code">ssl</code> documentation.</p>  <h3><code id="remove_listen_interface-1">remove_listen_interface(Ref) -&gt; ok</code></h3>  <h2 class="func-types-title">Types</h2>   
<p>Terminates the listen process, associated with the supplied <code class="code">#Ref</code>, for incoming a connection. The Ref parameter is the return value from the <code class="code">orber:add_listen_interface/2/3</code> operation. When terminating the connection, all associated requests will not deliver a reply to the clients.</p>  <h3>
<code id="close_connection-1">close_connection(Connection) -&gt; Result</code><code id="close_connection-2">close_connection(Connection, Interface) -&gt; Result</code>
</h3>  <h2 class="func-types-title">Types</h2>        
<p>Will try to close all outgoing connections to the host/port combinations found in the supplied object reference or the given list of hosts/ports. If a <code class="code">#'IOP_ServiceContext'{}</code> containing a local interface has been used when communicating with the remote object (see also <code><a href="../module_interface/">Module_Interface</a></code>), that interface shall be passed as the second argument. Otherwise, connections via the default local interface, will be terminated.</p>  <div class="note"> <div class="label">Note</div> <div class="content">

<p>Since several clients maybe communicates via the same connection, they will be affected when invoking this operation. Other clients may re-create the connection by invoking an operation on the target object.</p> </div> </div>  <h3><code id="secure-0">secure() -&gt; no | ssl</code></h3> 
<p>This function returns the security mode Orber is running in, which is either no if it is an insecure domain or the type of security mechanism used. For the moment the only security mechanism is ssl. This is configured by setting the application variable <strong>secure</strong>.</p>  <h3><code id="ssl_server_options-0">ssl_server_options() -&gt; list()</code></h3> 
<p>This function returns the list of SSL options set for the Orber domain as server. This is configured by setting the application variable <strong>ssl_server_options</strong>.</p>  <h3><code id="ssl_client_options-0">ssl_client_options() -&gt; list()</code></h3> 
<p>This function returns the list of SSL options used in outgoing calls in the current process. The default value is configured by setting the application variable <strong>ssl_client_options</strong>.</p>  <h3><code id="set_ssl_client_options-1">set_ssl_client_options(Options) -&gt; ok</code></h3>  <h2 class="func-types-title">Types</h2>   
<p>This function takes a list of SSL options as parameter and sets it for the current process.</p>  <h3><code id="objectkeys_gc_time-0">objectkeys_gc_time() -&gt; int() (seconds)</code></h3> 
<p>This function returns the timeout value after which after which terminated object keys, related to servers started with the configuration parameter <code class="code">{persistent, true}</code>, will be removed. It can be configured by setting the application variable <strong>objectkeys_gc_time TimeVal (seconds)</strong>, if it is not set it will have the default value <strong>infinity</strong>. </p> <p>Objects terminating with reason <strong>normal</strong> or <strong>shutdown</strong> are removed automatically.</p> <p>Note: the objectkeys_gc_time configuration parameter (TimeVal) may only range between 0 and 1000000 seconds. Otherwise, the default value is used.</p>  <h3><code id="orber_nodes-0">orber_nodes() -&gt; RetVal</code></h3>  <h2 class="func-types-title">Types</h2>   
<p>This function returns the list of node names that this orber domain consists of. </p>  <h3>
<code id="install-1">install(NodeList) -&gt; ok</code><code id="install-2">install(NodeList, Options) -&gt; ok</code>
</h3>  <h2 class="func-types-title">Types</h2>        
<p>This function installs all the necessary mnesia tables and load default data in some of them. If one or more Orber tables already exists the installation fails. The function <strong>uninstall</strong> may be used, if it is safe, i.e., no other application is running Orber.</p> <p>Preconditions:</p> <ul> <li>a mnesia schema must exist before the installation</li> <li>mnesia is running on the other nodes if the new installation shall be a multi node domain</li> </ul> <p>Mnesia will be started by the function if it is not already running on the installation node and if it was started it will be stopped afterwards.</p> <p>The options that can be sent to the installation program is:</p> <ul> <li> <code class="code">{install_timeout, Timeout}</code> - this timeout is how long we will wait for the tables to be created. The Timeout value can be <strong>infinity</strong> or an integer number in milliseconds. Default is infinity.</li> <li> <code class="code">{ifr_storage_type, TableType}</code> - this option sets the type of tables used for the interface repository. The TableType can be disc_copies or ram_copies. Default is disc_copies.</li> <li> <code class="code">{initialreferences_storage_type, TableType}</code> - this option sets the type of table used for storing initial references. The TableType can be disc_copies or ram_copies. Default is ram_copies.</li> <li> <code class="code">{nameservice_storage_type, TableType}</code> - the default behavior of Orber is to install the NameService as ram_copies. This option makes it possible to change this to disc_copies. But the user should be aware of that if a node is restarted, all local object references stored in the NameService is not valid. Hence, you cannot switch to disc_copies and expect exactly the same behavior as before.</li> <li> <code class="code">{load_order, Priority}</code> - per default the priority is set to 0. Using this option it will change the priority of in which order Mnesia will load Orber internal tables. For more information, consult the Mnesia documentation.</li> </ul>  <h3><code id="uninstall-0">uninstall() -&gt; ok</code></h3> 
<p>This function stops the Orber application, terminates all server objects and removes all Orber related mnesia tables.</p> <p>Note: Since other applications may be running on the same node using mnesia <strong>uninstall</strong> will not stop the mnesia application.</p>  <h3><code id="add_node-2">add_node(Node, Options) -&gt; RetVal</code></h3>  <h2 class="func-types-title">Types</h2>         
<p>This function add given node to a existing Orber node group and starts Orber on the new node. <code class="code">orber:add_node</code> is called from a member in the Orber node group.</p> <p>Preconditions for new node:</p> <ul> <li>Erlang started on the new node using the option <code class="code">-mnesia extra_db_nodes</code>, e.g., <code class="code">erl -sname new_node_name -mnesia extra_db_nodes ConnectToNodes_List</code> </li> <li>The new node's <code class="code">domain</code> name is the same for the nodes we want to connect to.</li> <li>Mnesia is running on the new node (no new schema created).</li> <li>If the new node will use <code class="code">disc_copies</code> the schema type must be changed using: <code class="code">mnesia:change_table_copy_type(schema, node(), disc_copies).</code> </li> </ul> <p>Orber will be started by the function on the new node.</p> <p>Fails if:</p> <ul> <li>Orber already installed on given node.</li> <li>Mnesia not started as described above on the new node.</li> <li>Impossible to copy data in Mnesia tables to the new node.</li> <li>Not able to start Orber on the new node, due to, for example, the <code class="code">iiop_port</code> is already in use.</li> </ul> <p>The function do not remove already copied tables after a failure. Use <code class="code">orber:remove_node</code> to remove these tables.</p>  <h3><code id="remove_node-1">remove_node(Node) -&gt; RetVal</code></h3>  <h2 class="func-types-title">Types</h2>    
<p>This function removes given node from a Orber node group. The Mnesia application is not stopped.</p>  <h3><code id="configure-2">configure(Key, Value) -&gt; ok | {'EXIT', Reason}</code></h3>  <h2 class="func-types-title">Types</h2>    
<p>This function allows the user to configure Orber in, for example, an Erlang shell. It is possible to invoke <code class="code">configure</code> at any time the keys specified above.</p> <p>Any other key must be set before installing and starting Orber.</p> <p>Trying to change the configuration in any other way is <strong>NOT</strong> allowed since it may affect the behavior of Orber.</p> <p>For more information regarding allowed values, see <code><a href="../ch_install/#config">configuration settings</a></code> in the User's Guide.</p>  <div class="note"> <div class="label">Note</div> <div class="content">

<p>Configuring the IIOP timeout values will not affect already existing connections. If you want a guaranteed uniform behavior, you must set these parameters from the start.</p> </div> </div>  </div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2010–2017 Ericsson AB<br>Licensed under the Apache License, Version 2.0.<br>
    
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
