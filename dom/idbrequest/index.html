
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>IDBRequest - DOM - W3cubDocs</title>
  
  <meta name="description" content="The IDBRequest interface of the IndexedDB API provides access to results of asynchronous requests to databases and database objects using event &hellip;">
  <meta name="keywords" content="idbrequest, -, dom">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/dom/idbrequest/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-e0f881b0fce8cbe96f33dadc355b7159d5d2912911231446d60eb8f9caffa802.css">
  <script type="text/javascript" src="/assets/application-8fc46316434047265cd383f02b8e7f434ed7dec4a59f920dd633deef8d488d1b.js"></script>
  <script src="/json/dom.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/dom/" class="_nav-link" title="" style="margin-left:0;">DOM</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _mdn">
				
<h1>IDBRequest</h1>  <p>The <code>IDBRequest</code> interface of the IndexedDB API provides access to results of asynchronous requests to databases and database objects using event handler attributes. Each reading and writing operation on a database is done using a request.</p>  <p>The request object does not initially contain any information about the result of the operation, but once information becomes available, an event is fired on the request, and the information becomes available through the properties of the <code>IDBRequest</code> instance.</p> <p>All asynchronous operations immediately return an <a href="../idbrequest/"><code>IDBRequest</code></a> instance. Each request has a <code>readyState</code> that is set to the <code>'pending'</code> state; this changes to <code>'done'</code> when the request is completed or fails. When the state is set to <code>done</code>, every request returns a <code>result</code> and an <code>error</code>, and an event is fired on the request. When the state is still <code>pending</code>, any attempt to access the <code>result</code> or <code>error</code> raises an <code>InvalidStateError</code> exception.</p> <p>In plain words, all asynchronous methods return a request object. If the request has been completed successfully, the result is made available through the <code>result</code> property and an event indicating success is fired at the request (<a href="../idbrequest/onsuccess/"><code>IDBRequest.onsuccess</code></a>). If an error occurs while performing the operation, the exception is made available through the <code>result</code> property and an error event is fired (<a href="../idbrequest/onerror/"><code>IDBRequest.onerror</code></a>).</p> <p>The interface <a href="../idbopendbrequest/"><code>IDBOpenDBRequest</code></a> is derived from <code>IDBRequest</code>.</p> <div class="note">
<strong>Note:</strong> This feature is available in <a href="../web_workers_api/">Web Workers</a>.</div>  <iframe class="live-sample-frame inheritance-diagram-frame" width="600" height="70" id="frame_inheritance_diagram" src="https://mdn.mozillademos.org/en-US/docs/Web/API/IDBRequest%24samples/inheritance_diagram?revision=1321902" frameborder="0"></iframe> <h2 id="Properties">Properties</h2> <p><em>Also inherits properties from <a href="../eventtarget/"><code>EventTarget</code></a>.</em></p> <dl> <dt>
<a href="../idbrequest/error/"><code>IDBRequest.error</code></a> <span class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>Returns a <a href="../domexception/"><code>DOMException</code></a> in the event of an unsuccessful request, indicating what went wrong.</dd> <dt>
<a href="../idbrequest/result/"><code>IDBRequest.result</code></a> <span class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd> <p>Returns the result of the request. If the the request failed and the result is not available, an InvalidStateError exception is thrown.</p> </dd> <dt>
<a href="../idbrequest/source/"><code>IDBRequest.source</code></a> <span class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>The source of the request, such as an <a href="../idbindex/"><code>IDBIndex</code></a> or an <a href="../idbobjectstore/"><code>IDBObjectStore</code></a>. If no source exists (such as when calling <a href="../idbfactory/open/"><code>IDBFactory.open</code></a>), it returns null.</dd> <dt>
<a href="../idbrequest/readystate/"><code>IDBRequest.readyState</code></a> <span class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>The state of the request. Every request starts in the <code>pending</code> state. The state changes to <code>done</code> when the request completes successfully or when an error occurs.</dd> <dt>
<a href="../idbrequest/transaction/"><code>IDBRequest.transaction</code></a> <span class="inlineIndicator readOnly readOnlyInline">Read only </span>
</dt> <dd>The transaction for the request. This property can be null for certain requests, for example those returned from <a href="../idbfactory/open/"><code>IDBFactory.open</code></a> unless an upgrade is needed. (You're just connecting to a database, so there is no transaction to return).</dd> </dl> <h3 id="Event_handlers">Event handlers</h3> <dl> <dt><a href="../idbrequest/onerror/"><code>IDBRequest.onerror</code></a></dt> <dd>The event handler for the error event.</dd> <dt><a href="../idbrequest/onsuccess/"><code>IDBRequest.onsuccess</code></a></dt> <dd>The event handler for the success event.</dd> </dl> <h2 id="Methods">Methods</h2> <p><em>No methods, but inherits methods from <a href="../eventtarget/"><code>EventTarget</code></a>.</em></p> <h2 id="Example">Example</h2> <p>In the following code snippet, we open a database asynchronously and make a request; <code>onerror</code> and <code>onsuccess</code> functions are included to handle the success and error cases. For a full working example, see our <a href="https://github.com/chrisdavidmills/to-do-notifications/tree/gh-pages" target="_blank">To-do Notifications</a> app (<a href="http://chrisdavidmills.github.io/to-do-notifications/" target="_blank">view example live</a>.)</p> <pre data-language="js">var db;

// Let us open our database
var DBOpenRequest = window.indexedDB.open("toDoList", 4);

// these two event handlers act on the database being
// opened successfully, or not
DBOpenRequest.onerror = function(event) {
  note.innerHTML += '&lt;li&gt;Error loading database.&lt;/li&gt;';
};

DBOpenRequest.onsuccess = function(event) {
  note.innerHTML += '&lt;li&gt;Database initialised.&lt;/li&gt;';
 
  // store the result of opening the database.
  db = DBOpenRequest.result;
};</pre> <h2 id="Specifications">Specifications</h2> <div class="_table"><table class="standard-table"> <tbody> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> <tr> <td><a href="https://www.w3.org/TR/IndexedDB/#idl-def-IDBRequest" hreflang="en" target="_blank">Indexed Database API<br><small>The definition of 'IDBRequest' in that specification.</small></a></td> <td><span class="spec-REC">Recommendation</span></td> <td>Initial definition.</td> </tr> <tr> <td><a href="https://w3c.github.io/IndexedDB/#request-api" hreflang="en" target="_blank">Indexed Database API 2.0<br><small>The definition of 'IDBRequest' in that specification.</small></a></td> <td><span class="spec-ED">Editor's Draft</span></td> <td> </td> </tr> </tbody> </table></div> <h2 id="Browser_compatibility">Browser compatibility</h2>   <div class="_table"><table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Edge</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari (WebKit)</th> </tr> <tr> <td>Basic support</td> <td>23<span class="inlineIndicator prefixBox prefixBoxInline"><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/Prefixes" target="_blank">webkit</a></span><br> 24 (unprefixed)<br> 38 (prefixes deprecated)<br> 57 (prefixes removed)</td> <td><span style="color: #888;">(Yes)</span></td> <td>10 <span class="inlineIndicator prefixBox prefixBoxInline"><a href="https://developer.mozilla.org/en-US/docs/Web/Guide/Prefixes" target="_blank">moz</a></span><br> <a href="https://developer.mozilla.org/en-US/Firefox/Releases/16" target="_blank">16.0</a> (16.0)</td> <td>10, partial</td> <td>15<br> 44 (prefixes removed)</td> <td>7.1</td> </tr> <tr> <td>Available in workers</td> <td>
<span style="color: #888;">(Yes)</span> (unprefixed)<br> 38 (prefixes deprecated)<br> 57 (prefixes removed)</td> <td><span style="color: rgb(255, 153, 0);">?</span></td> <td>
<a href="https://developer.mozilla.org/en-US/Firefox/Releases/37" target="_blank">37.0</a> (37.0)</td> <td><span style="color: rgb(255, 153, 0);">?</span></td> <td>
<span style="color: #888;">(Yes)</span><br> 44 (prefixes removed)</td> <td><span style="color: rgb(255, 153, 0);">?</span></td> </tr> <tr> <td>Indexed Database 2.0</td> <td>58</td> <td><span style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: rgb(255, 153, 0);">?</span></td> <td>45</td> <td><span style="color: rgb(255, 153, 0);">?</span></td> </tr> <tr> <td>
<code>error</code> property uses <a href="../domexception/"><code>DOMException</code></a>, not <a href="https://developer.mozilla.org/en-US/docs/Web/API/DOMError" target="_blank"><code>DOMError</code></a>
</td> <td><span style="color: #888;">(Yes)</span></td> <td><span style="color: #888;">(Yes)</span></td> <td>
<a href="https://developer.mozilla.org/en-US/Firefox/Releases/58" target="_blank">58</a> (58)</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #888;">(Yes)</span></td> <td><span style="color: #f00;">No support</span></td> </tr> </tbody> </table></div>   <div class="_table"><table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android Webview</th> <th>Chrome for Android</th> <th>Edge</th> <th>Firefox Mobile (Gecko)</th> <th>IE Phone</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr> <tr> <td>Basic support</td> <td>
<span style="color: #888;">(Yes)</span><br> 38 (prefixes deprecated)<br> 57 (prefixes removed)</td> <td>
<span style="color: #888;">(Yes)</span><br> 38 (prefixes deprecated)<br> 57 (prefixes removed)</td> <td><span style="color: #888;">(Yes)</span></td> <td>22.0 (22.0)</td> <td>10</td> <td>22<br> 44 (prefixes removed)</td> <td>8</td> </tr> <tr> <td>Available in workers</td> <td>
<span style="color: #888;">(Yes)</span> (unprefixed)<br> 38 (prefixes deprecated)<br> 57 (prefixes removed)</td> <td>
<span style="color: #888;">(Yes)</span> (unprefixed)<br> 38 (prefixes deprecated)<br> 57 (prefixes removed)</td> <td><span style="color: rgb(255, 153, 0);">?</span></td> <td>37.0 (37.0)</td> <td><span style="color: rgb(255, 153, 0);">?</span></td> <td>
<span style="color: #888;">(Yes)</span><br> 44 (prefixes removed)</td> <td><span style="color: rgb(255, 153, 0);">?</span></td> </tr> <tr> <td>Indexed Database 2.0</td> <td>58</td> <td>58</td> <td><span style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: rgb(255, 153, 0);">?</span></td> <td>45</td> <td><span style="color: rgb(255, 153, 0);">?</span></td> </tr> <tr> <td>
<code>error</code> property uses <a href="../domexception/"><code>DOMException</code></a>, not <a href="https://developer.mozilla.org/en-US/docs/Web/API/DOMError" target="_blank"><code>DOMError</code></a>
</td> <td><span style="color: #888;">(Yes)</span></td> <td><span style="color: #888;">(Yes)</span></td> <td><span style="color: #888;">(Yes)</span></td> <td>58.0 (58)</td> <td><span style="color: #f00;">No support</span></td> <td><span style="color: #888;">(Yes)</span></td> <td><span style="color: #f00;">No support</span></td> </tr> </tbody> </table></div>  <h2 id="See_also">See also</h2> <ul> <li><a href="../indexeddb_api/using_indexeddb/">Using IndexedDB</a></li> <li>Starting transactions: <a href="../idbdatabase/"><code>IDBDatabase</code></a>
</li> <li>Using transactions: <a href="../idbtransaction/"><code>IDBTransaction</code></a>
</li> <li>Setting a range of keys: <a href="../idbkeyrange/"><code>IDBKeyRange</code></a>
</li> <li>Retrieving and making changes to your data: <a href="../idbobjectstore/"><code>IDBObjectStore</code></a>
</li> <li>Using cursors: <a href="../idbcursor/"><code>IDBCursor</code></a>
</li> <li>Reference example: <a href="https://github.com/mdn/to-do-notifications/tree/gh-pages" target="_blank">To-do Notifications</a> (<a href="http://mdn.github.io/to-do-notifications/" target="_blank">view example live</a>.)</li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBRequest%24edit" class="_attribution-link" target="_blank">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/IDBRequest" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/IDBRequest</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
