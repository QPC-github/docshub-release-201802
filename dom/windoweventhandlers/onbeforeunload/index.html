
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>WindowEventHandlers.onbeforeunload - DOM - W3cubDocs</title>
  
  <meta name="description" content="The WindowEventHandlers.onbeforeunload event handler property contains the code executed when the beforeunload is sent. This event fires when a &hellip;">
  <meta name="keywords" content="windoweventhandlers, onbeforeunload, -, dom">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/dom/windoweventhandlers/onbeforeunload/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-e0f881b0fce8cbe96f33dadc355b7159d5d2912911231446d60eb8f9caffa802.css">
  <script type="text/javascript" src="/assets/application-8fc46316434047265cd383f02b8e7f434ed7dec4a59f920dd633deef8d488d1b.js"></script>
  <script src="/json/dom.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/dom/" class="_nav-link" title="" style="margin-left:0;">DOM</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _mdn">
				
<h1>WindowEventHandlers.onbeforeunload</h1>     <p>The <code><strong>WindowEventHandlers.onbeforeunload</strong></code> event handler property contains the code executed when the <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/beforeunload" target="_blank">beforeunload</a></code> is sent. This event fires when a window is about to <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/unload" target="_blank">unload</a></code> its resources. The document is still visible and the event is still cancelable.</p> <div class="note"> <p><strong>Note:</strong> To combat unwanted pop-ups, some browsers don't display prompts created in <code>beforeunload</code> event handlers unless the page has been interacted with; some don't display them at all. For a list of specific browsers, see the <a href="#Browser_compatibility">Browser_compatibility</a> section.</p> </div> <h2 name="Syntax" id="Syntax">Syntax</h2> <pre class="syntaxbox">window.onbeforeunload = <var>funcRef</var></pre> <ul> <li>
<code>funcRef</code> is a reference to a function or a function expression.</li> <li>The function should assign a string value to the <code>returnValue</code> property of the Event object and return the same string.</li> </ul> <h2 name="Example" id="Example">Example</h2> <pre data-language="js">window.onbeforeunload = function(e) {
  var dialogText = 'Dialog text here';
  e.returnValue = dialogText;
  return dialogText;
};
</pre> <h2 id="Notes">Notes</h2> <p>When this event returns (or sets the <code>returnValue</code> property to) a value other than <code>null</code> or <code>undefined</code>, the user is prompted to confirm the page unload. In some browsers, the return value of the event is displayed in this dialog. Starting with Firefox 4, Chrome 51, Opera 38 and Safari 9.1, a generic string not under the control of the webpage will be shown instead of the returned string. For example, Firefox displays the string "This page is asking you to confirm that you want to leave - data you have entered may not be saved." See <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=588292" target="_blank">bug 588292</a> and <a href="https://www.chromestatus.com/feature/5349061406228480" target="_blank">Chrome Platform Status</a>.</p> <p>Since 25 May 2011, the HTML5 specification states that calls to <a href="../../window/alert/"><code>window.alert()</code></a>, <a href="../../window/confirm/"><code>window.confirm()</code></a>, and <a href="../../window/prompt/"><code>window.prompt()</code></a> methods may be ignored during this event. See the <a href="http://www.w3.org/TR/html5/webappapis.html#user-prompts" target="_blank">HTML5 specification</a> for more details.</p> <p>Note also, that various browsers ignore the result of the event and do not ask the user for confirmation at all. The document will always be unloaded automatically. Firefox has a switch named <code>dom.disable_beforeunload</code> in <a>about:config</a> to enable this behaviour.</p> <p>You <em>can</em> and <em>should</em> handle this event through <a href="../../eventtarget/addeventlistener/"><code>window.addEventListener()</code></a> and the <code><a href="https://developer.mozilla.org/en-US/docs/Web/Events/beforeunload" target="_blank">beforeunload</a></code> event. More documentation is available there.</p> <p>Binding to this event can be used to prevent the browser from fully caching the page in cases where content is rendered by javascript. In certain circumstances when returning to a page that has executed javascript in order to populate content, you may find the javascript not running upon the return visit when navigating back. If window.onbeforeunload has been bound (and thus triggered when leaving that page) javascript in the page will be triggered on the subsequent return visit and therefore update the content.</p> <h2 id="Specifications">Specifications</h2> <p>The event was originally introduced by Microsoft in Internet Explorer 4 and standardized in the HTML5 specification.</p> <div class="_table"><table class="standard-table"> <thead> <tr> <th scope="col">Specification</th> <th scope="col">Status</th> <th scope="col">Comment</th> </tr> </thead> <tbody> <tr> <td><a href="https://html.spec.whatwg.org/multipage/#windoweventhandlers" hreflang="en" target="_blank">HTML Living Standard<br><small>The definition of 'GlobalEventHandlers' in that specification.</small></a></td> <td><span class="spec-Living">Living Standard</span></td> <td> </td> </tr> <tr> <td><a href="https://www.w3.org/TR/2016/REC-html51-20161101/#windoweventhandlers" hreflang="en" target="_blank">HTML 5.1<br><small>The definition of 'GlobalEventHandlers' in that specification.</small></a></td> <td><span class="spec-REC">Recommendation</span></td> <td> </td> </tr> <tr> <td><a href="http://www.w3.org/TR/html5/#windoweventhandlers" hreflang="en" target="_blank">HTML5<br><small>The definition of 'GlobalEventHandlers' in that specification.</small></a></td> <td><span class="spec-REC">Recommendation</span></td> <td> </td> </tr> </tbody> </table></div> <h2 id="Browser_compatibility">Browser compatibility</h2>   <div class="_table"><table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Chrome</th> <th>Edge</th> <th>Firefox (Gecko)</th> <th>Internet Explorer</th> <th>Opera</th> <th>Safari (WebKit)</th> </tr> <tr> <td>Basic support</td> <td>1</td> <td><span style="color: #888;">(Yes)</span></td> <td>1</td> <td>4</td> <td>12</td> <td>3</td> </tr> <tr> <td>Custom text support removed</td> <td>51</td> <td><span style="color: #f00;">No support</span></td> <td>44.0 (44.0)</td> <td><span style="color: rgb(255, 153, 0);">?</span></td> <td>38</td> <td><a href="https://developer.apple.com/library/mac/releasenotes/General/WhatsNewInSafari/Articles/Safari_9_1.html" target="_blank">9.1</a></td> </tr> </tbody> </table></div>   <div class="_table"><table class="compat-table"> <tbody> <tr> <th>Feature</th> <th>Android Webview</th> <th>Chrome for Android</th> <th>Edge</th> <th>Firefox Mobile (Gecko)</th> <th>IE Phone</th> <th>Opera Mobile</th> <th>Safari Mobile</th> </tr> <tr> <td>Basic support</td> <td><span style="color: #888;">(Yes)</span></td> <td><span style="color: #888;">(Yes)</span></td> <td><span style="color: #888;">(Yes)</span></td> <td><span style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: rgb(255, 153, 0);">?</span></td> <td><span style="color: #888;">(Yes)</span></td> <td>(no) <a href="https://bugs.webkit.org/show_bug.cgi?id=19324" target="_blank">defect</a>
</td> </tr> <tr> <td>Custom text support removed</td> <td>51</td> <td>51</td> <td><span style="color: #f00;">No support</span></td> <td>44.0 (44.0)</td> <td><span style="color: rgb(255, 153, 0);">?</span></td> <td>38</td> <td><span style="color: rgb(255, 153, 0);">?</span></td> </tr> </tbody> </table></div>  <h2 name="See also" id="See also">See also</h2> <ul> <li><a href="http://msdn.microsoft.com/en-us/library/ms536907(VS.85).aspx" target="_blank">MSDN: onbeforeunload event</a></li> </ul>
<div class="_attribution">
  <p class="_attribution-p">
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onbeforeunload%24edit" class="_attribution-link" target="_blank">Edit this page on MDN</a>
  </p>
</div>
<div class="_attribution">
  <p class="_attribution-p">
    © 2005–2018 Mozilla Developer Network and individual contributors.<br>Licensed under the Creative Commons Attribution-ShareAlike License v2.5 or later.<br>
    <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onbeforeunload" class="_attribution-link" target="_blank">https://developer.mozilla.org/en-US/docs/Web/API/WindowEventHandlers/onbeforeunload</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
