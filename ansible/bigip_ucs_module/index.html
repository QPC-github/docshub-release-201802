
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Bigip_ucs - Ansible - W3cubDocs</title>
  
  <meta name="description" content=" New in version 2.4. ">
  <meta name="keywords" content="bigip, ucs, -, manage, upload, installation, and, removal, files, ansible">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/ansible/bigip_ucs_module/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-e0f881b0fce8cbe96f33dadc355b7159d5d2912911231446d60eb8f9caffa802.css">
  <script type="text/javascript" src="/assets/application-8fc46316434047265cd383f02b8e7f434ed7dec4a59f920dd633deef8d488d1b.js"></script>
  <script src="/json/ansible.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ansible/" class="_nav-link" title="" style="margin-left:0;">Ansible</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx">
				
<h1 id="bigip-ucs">bigip_ucs - Manage upload, installation and removal of UCS files.</h1> <div class="versionadded" id="bigip-ucs-manage-upload-installation-and-removal-of-ucs-files"> <p><span class="versionmodified">New in version 2.4.</span></p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#requirements-on-host-that-executes-module" id="id2">Requirements (on host that executes module)</a></li> <li><a class="reference internal" href="#options" id="id3">Options</a></li> <li><a class="reference internal" href="#examples" id="id4">Examples</a></li> <li>
<a class="reference internal" href="#notes" id="id5">Notes</a><ul> <li><a class="reference internal" href="#status" id="id6">Status</a></li> </ul> </li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Manage upload, installation and removal of UCS files.</li> </ul>   <h2 id="requirements-on-host-that-executes-module">Requirements (on host that executes module)</h2>  <ul class="simple"> <li>f5-sdk</li> </ul>    <h2 id="options">Options</h2> <table> <tr> <th class="head">parameter</th> <th class="head">required</th> <th class="head">default</th> <th class="head">choices</th> <th class="head">comments</th> </tr> <tr> <td>force<br>
</td> <td>no</td> <td></td> <td><ul>
<li>True</li>
<li>False</li>
</ul></td> <td> <div>If <code>yes</code> will upload the file every time and replace the file on the device. If <code>no</code>, the file will only be uploaded if it does not already exist. Generally should be <code>yes</code> only in cases where you have reason to believe that the image was corrupted during upload.</div> </td> </tr> <tr> <td>include_chassis_level_config<br>
</td> <td>no</td> <td></td> <td><ul>
<li>True</li>
<li>False</li>
</ul></td> <td> <div>During restore of the UCS file, include chassis level configuration that is shared among boot volume sets. For example, cluster default configuration.</div> </td> </tr> <tr> <td>no_license<br>
</td> <td>no</td> <td></td> <td><ul>
<li>True</li>
<li>False</li>
</ul></td> <td> <div>Performs a full restore of the UCS file and all the files it contains, with the exception of the license file. The option must be used to restore a UCS on RMA devices (Returned Materials Authorization).</div> </td> </tr> <tr> <td>no_platform_check<br>
</td> <td>no</td> <td></td> <td><ul>
<li>True</li>
<li>False</li>
</ul></td> <td> <div>Bypasses the platform check and allows a UCS that was created using a different platform to be installed. By default (without this option), a UCS created from a different platform is not allowed to be installed.</div> </td> </tr> <tr> <td>passphrase<br>
</td> <td>no</td> <td></td> <td><ul>
<li>True</li>
<li>False</li>
</ul></td> <td> <div>Specifies the passphrase that is necessary to load the specified UCS file.</div> </td> </tr> <tr> <td>password<br>
</td> <td>yes</td> <td></td> <td></td> <td> <div>The password for the user account used to connect to the BIG-IP. This option can be omitted if the environment variable <code>F5_PASSWORD</code> is set.</div> </td> </tr> <tr> <td>reset_trust<br>
</td> <td>no</td> <td></td> <td><ul>
<li>True</li>
<li>False</li>
</ul></td> <td> <div>When specified, the device and trust domain certs and keys are not loaded from the UCS. Instead, a new set is regenerated.</div> </td> </tr> <tr> <td>server<br>
</td> <td>yes</td> <td></td> <td></td> <td> <div>The BIG-IP host. This option can be omitted if the environment variable <code>F5_SERVER</code> is set.</div> </td> </tr> <tr> <td>server_port<br><div style="font-size: small;">(added in 2.2)</div>
</td> <td>no</td> <td>443</td> <td></td> <td> <div>The BIG-IP server port. This option can be omitted if the environment variable <code>F5_SERVER_PORT</code> is set.</div> </td> </tr> <tr> <td>state<br>
</td> <td>no</td> <td>present</td> <td><ul>
<li>absent</li>
<li>installed</li>
<li>present</li>
</ul></td> <td> <div>When <code>installed</code>, ensures that the UCS is uploaded and installed, on the system. When <code>present</code>, ensures that the UCS is uploaded. When <code>absent</code>, the UCS will be removed from the system. When <code>installed</code>, the uploading of the UCS is idempotent, however the installation of that configuration is not idempotent.</div> </td> </tr> <tr> <td>ucs<br>
</td> <td>no</td> <td></td> <td></td> <td> <div>The path to the UCS file to install. The parameter must be provided if the <code>state</code> is either <code>installed</code> or <code>activated</code>. When <code>state</code> is <code>absent</code>, the full path for this parameter will be ignored and only the filename will be used to select a UCS for removal. Therefore you could specify <code>/mickey/mouse/test.ucs</code> and this module would only look for <code>test.ucs</code>.</div> </td> </tr> <tr> <td>user<br>
</td> <td>yes</td> <td></td> <td></td> <td> <div>The username to connect to the BIG-IP with. This user must have administrative privileges on the device. This option can be omitted if the environment variable <code>F5_USER</code> is set.</div> </td> </tr> <tr> <td>validate_certs<br><div style="font-size: small;">(added in 2.0)</div>
</td> <td>no</td> <td>True</td> <td><ul>
<li>True</li>
<li>False</li>
</ul></td> <td> <div>If <code>no</code>, SSL certificates will not be validated. This should only be used on personally controlled sites using self-signed certificates. This option can be omitted if the environment variable <code>F5_VALIDATE_CERTS</code> is set.</div> </td> </tr> </table>   <h2 id="examples">Examples</h2>  <pre data-language="YAML">- name: Upload UCS
  bigip_ucs:
      server: "lb.mydomain.com"
      user: "admin"
      password: "secret"
      ucs: "/root/bigip.localhost.localdomain.ucs"
      state: "present"
  delegate_to: localhost

- name: Install (upload, install) UCS.
  bigip_ucs:
      server: "lb.mydomain.com"
      user: "admin"
      password: "secret"
      ucs: "/root/bigip.localhost.localdomain.ucs"
      state: "installed"
  delegate_to: localhost

- name: Install (upload, install) UCS without installing the license portion
  bigip_ucs:
      server: "lb.mydomain.com"
      user: "admin"
      password: "secret"
      ucs: "/root/bigip.localhost.localdomain.ucs"
      state: "installed"
      no_license: "yes"
  delegate_to: localhost

- name: Install (upload, install) UCS except the license, and bypassing the platform check
  bigip_ucs:
      server: "lb.mydomain.com"
      user: "admin"
      password: "secret"
      ucs: "/root/bigip.localhost.localdomain.ucs"
      state: "installed"
      no_license: "yes"
      no_platform_check: "yes"
  delegate_to: localhost

- name: Install (upload, install) UCS using a passphrase necessary to load the UCS
  bigip_ucs:
      server: "lb.mydomain.com"
      user: "admin"
      password: "secret"
      ucs: "/root/bigip.localhost.localdomain.ucs"
      state: "installed"
      passphrase: "MyPassphrase1234"
  delegate_to: localhost

- name: Remove uploaded UCS file
  bigip_ucs:
      server: "lb.mydomain.com"
      user: "admin"
      password: "secret"
      ucs: "bigip.localhost.localdomain.ucs"
      state: "absent"
  delegate_to: localhost
</pre>    <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="first admonition-title">Note</p> <ul class="last simple"> <li>Requires the f5-sdk Python package on the host. This is as easy as pip install f5-sdk.</li> <li>Only the most basic checks are performed by this module. Other checks and considerations need to be taken into account. See the following URL. <a class="reference external" href="https://support.f5.com/kb/en-us/solutions/public/11000/300/sol11318.html" target="_blank">https://support.f5.com/kb/en-us/solutions/public/11000/300/sol11318.html</a>
</li> <li>This module does not handle devices with the FIPS 140 HSM</li> <li>This module does not handle BIG-IPs systems on the 6400, 6800, 8400, or 8800 hardware platform.</li> <li>This module does not verify that the new or replaced SSH keys from the UCS file are synchronized between the BIG-IP system and the SCCP</li> <li>This module does not support the ‘rma’ option</li> <li>This module does not support restoring a UCS archive on a BIG-IP 1500, 3400, 4100, 6400, 6800, or 8400 hardware platform other than the system from which the backup was created</li> <li>The UCS restore operation restores the full configuration only if the hostname of the target system matches the hostname on which the UCS archive was created. If the hostname does not match, only the shared configuration is restored. You can ensure hostnames match by using the <code>bigip_hostname</code> Ansible module in a task before using this module.</li> <li>This module does not support re-licensing a BIG-IP restored from a UCS</li> <li>This module does not support restoring encrypted archives on replacement RMA units.</li> </ul> </div>  <h3 id="status">Status</h3> <p>This module is flagged as <strong>preview</strong> which means that it is not guaranteed to have a backwards compatible interface.</p> <p>For help in developing on modules, should you be so inclined, please read <a class="reference internal" href="https://docs.ansible.com/ansible/latest/community.html" target="_blank"><span class="doc">Community Information &amp; Contributing</span></a>, <a class="reference internal" href="../dev_guide/testing/"><span class="doc">Testing Ansible</span></a> and <a class="reference internal" href="../dev_guide/developing_modules/"><span class="doc">Developing Modules</span></a>.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2017 Michael DeHaan<br>© 2017 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/bigip_ucs_module.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/latest/bigip_ucs_module.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
