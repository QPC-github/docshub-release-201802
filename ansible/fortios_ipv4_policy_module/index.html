
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Fortios_ipv4_policy - Ansible - W3cubDocs</title>
  
  <meta name="description" content=" New in version 2.3. ">
  <meta name="keywords" content="fortios, ipv, policy, -, manage, objects, on, fortinet, firewall, devices, ansible">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/ansible/fortios_ipv4_policy_module/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-e0f881b0fce8cbe96f33dadc355b7159d5d2912911231446d60eb8f9caffa802.css">
  <script type="text/javascript" src="/assets/application-8fc46316434047265cd383f02b8e7f434ed7dec4a59f920dd633deef8d488d1b.js"></script>
  <script src="/json/ansible.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ansible/" class="_nav-link" title="" style="margin-left:0;">Ansible</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx">
				
<h1 id="fortios-ipv4-policy">fortios_ipv4_policy - Manage IPv4 policy objects on Fortinet FortiOS firewall devices</h1> <div class="versionadded" id="fortios-ipv4-policy-manage-ipv4-policy-objects-on-fortinet-fortios-firewall-devices"> <p><span class="versionmodified">New in version 2.3.</span></p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#options" id="id2">Options</a></li> <li><a class="reference internal" href="#examples" id="id3">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id4">Return Values</a></li> <li>
<a class="reference internal" href="#notes" id="id5">Notes</a><ul> <li><a class="reference internal" href="#status" id="id6">Status</a></li> </ul> </li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>This module provides management of firewall IPv4 policies on FortiOS devices.</li> </ul>   <h2 id="options">Options</h2> <table> <tr> <th class="head">parameter</th> <th class="head">required</th> <th class="head">default</th> <th class="head">choices</th> <th class="head">comments</th> </tr> <tr> <td>application_list<br>
</td> <td>no</td> <td></td> <td></td> <td> <div>Specifies Application Control name.</div> </td> </tr> <tr> <td>av_profile<br>
</td> <td>no</td> <td></td> <td></td> <td> <div>Specifies Antivirus profile name.</div> </td> </tr> <tr> <td>backup<br>
</td> <td>no</td> <td></td> <td><ul>
<li>yes</li>
<li>no</li>
</ul></td> <td> <div>This argument will cause the module to create a backup of the current <code>running-config</code> from the remote device before any changes are made. The backup file is written to the i(backup) folder.</div> </td> </tr> <tr> <td>backup_filename<br>
</td> <td>no</td> <td></td> <td></td> <td> <div>Specifies the backup filename. If omitted filename will be formatted like HOST_config.YYYY-MM-DD@HH:MM:SS</div> </td> </tr> <tr> <td>backup_path<br>
</td> <td>no</td> <td></td> <td></td> <td> <div>Specifies where to store backup files. Required if <em>backup=yes</em>.</div> </td> </tr> <tr> <td>comment<br>
</td> <td>no</td> <td></td> <td></td> <td> <div>free text to describe policy.</div> </td> </tr> <tr> <td>config_file<br><div style="font-size: small;">(added in 2.4)</div>
</td> <td>no</td> <td></td> <td></td> <td> <div>Path to configuration file. Required when <em>file_mode</em> is True.</div> </td> </tr> <tr> <td>dst_addr<br>
</td> <td>no</td> <td></td> <td></td> <td> <div>Specifies destination address (or group) object name(s). Required when <em>state=present</em>.</div> </td> </tr> <tr> <td>dst_addr_negate<br>
</td> <td>no</td> <td></td> <td><ul>
<li>true</li>
<li>false</li>
</ul></td> <td> <div>Negate destination address param.</div> </td> </tr> <tr> <td>dst_intf<br>
</td> <td>no</td> <td>any</td> <td></td> <td> <div>Specifies destination interface name.</div> </td> </tr> <tr> <td>file_mode<br><div style="font-size: small;">(added in 2.4)</div>
</td> <td>no</td> <td></td> <td><ul>
<li>yes</li>
<li>no</li>
</ul></td> <td> <div>Don't connect to any device, only use <em>config_file</em> as input and Output.</div> </td> </tr> <tr> <td>fixedport<br>
</td> <td>no</td> <td></td> <td><ul>
<li>true</li>
<li>false</li>
</ul></td> <td> <div>Use fixed port for nat.</div> </td> </tr> <tr> <td>host<br>
</td> <td>no</td> <td></td> <td></td> <td> <div>Specifies the DNS hostname or IP address for connecting to the remote fortios device. Required when <em>file_mode</em> is False.</div> </td> </tr> <tr> <td>id<br>
</td> <td>yes</td> <td></td> <td></td> <td> <div>Policy ID. Warning: policy ID number is different than Policy sequence number. The policy ID is the number assigned at policy creation. The sequence number represents the order in which the Fortigate will evaluate the rule for policy enforcement, and also the order in which rules are listed in the GUI and CLI. These two numbers do not necessarily correlate: this module is based off policy ID. TIP: policy ID can be viewed in the GUI by adding 'ID' to the display columns</div> </td> </tr> <tr> <td>ips_sensor<br>
</td> <td>no</td> <td></td> <td></td> <td> <div>Specifies IPS Sensor profile name.</div> </td> </tr> <tr> <td>logtraffic<br><div style="font-size: small;">(added in 2.4)</div>
</td> <td>no</td> <td>utm</td> <td><ul>
<li>disable</li>
<li>utm</li>
<li>all</li>
</ul></td> <td> <div>Logs sessions that matched policy.</div> </td> </tr> <tr> <td>logtraffic_start<br><div style="font-size: small;">(added in 2.4)</div>
</td> <td>no</td> <td></td> <td><ul>
<li>true</li>
<li>false</li>
</ul></td> <td> <div>Logs beginning of session as well.</div> </td> </tr> <tr> <td>nat<br>
</td> <td>no</td> <td></td> <td><ul>
<li>true</li>
<li>false</li>
</ul></td> <td> <div>Enable or disable Nat.</div> </td> </tr> <tr> <td>password<br>
</td> <td>no</td> <td></td> <td></td> <td> <div>Specifies the password used to authenticate to the remote device. Required when <em>file_mode</em> is True.</div> </td> </tr> <tr> <td>policy_action<br>
</td> <td>no</td> <td></td> <td><ul>
<li>accept</li>
<li>deny</li>
</ul></td> <td> <div>Specifies accept or deny action policy. Required when <em>state=present</em>.</div> <div style="font-size: small;">aliases: action</div> </td> </tr> <tr> <td>poolname<br>
</td> <td>no</td> <td></td> <td></td> <td> <div>Specifies NAT pool name.</div> </td> </tr> <tr> <td>schedule<br>
</td> <td>no</td> <td>always</td> <td></td> <td> <div>defines policy schedule.</div> </td> </tr> <tr> <td>service<br>
</td> <td>no</td> <td></td> <td></td> <td> <div>Specifies policy service(s), could be a list (ex: ['MAIL','DNS']). Required when <em>state=present</em>.</div> <div style="font-size: small;">aliases: services</div> </td> </tr> <tr> <td>service_negate<br>
</td> <td>no</td> <td></td> <td><ul>
<li>true</li>
<li>false</li>
</ul></td> <td> <div>Negate policy service(s) defined in service value.</div> </td> </tr> <tr> <td>src_addr<br>
</td> <td>no</td> <td></td> <td></td> <td> <div>Specifies source address (or group) object name(s). Required when <em>state=present</em>.</div> </td> </tr> <tr> <td>src_addr_negate<br>
</td> <td>no</td> <td></td> <td><ul>
<li>true</li>
<li>false</li>
</ul></td> <td> <div>Negate source address param.</div> </td> </tr> <tr> <td>src_intf<br>
</td> <td>no</td> <td>any</td> <td></td> <td> <div>Specifies source interface name.</div> </td> </tr> <tr> <td>state<br>
</td> <td>no</td> <td>present</td> <td><ul>
<li>present</li>
<li>absent</li>
</ul></td> <td> <div>Specifies if policy <em>id</em> need to be added or deleted.</div> </td> </tr> <tr> <td>timeout<br>
</td> <td>no</td> <td>60</td> <td></td> <td> <div>Timeout in seconds for connecting to the remote device.</div> </td> </tr> <tr> <td>username<br>
</td> <td>no</td> <td></td> <td></td> <td> <div>Configures the username used to authenticate to the remote device. Required when <em>file_mode</em> is True.</div> </td> </tr> <tr> <td>vdom<br>
</td> <td>no</td> <td></td> <td></td> <td> <div>Specifies on which vdom to apply configuration</div> </td> </tr> <tr> <td>webfilter_profile<br>
</td> <td>no</td> <td></td> <td></td> <td> <div>Specifies Webfilter profile name.</div> </td> </tr> </table>   <h2 id="examples">Examples</h2>  <pre data-language="YAML">- name: Allow external DNS call
  fortios_ipv4_policy:
    host: 192.168.0.254
    username: admin
    password: password
    id: 42
    src_addr: internal_network
    dst_addr: all
    service: dns
    nat: True
    state: present
    policy_action: accept
    logtraffic: disable

- name: Public Web
  fortios_ipv4_policy:
    host: 192.168.0.254
    username: admin
    password: password
    id: 42
    src_addr: all
    dst_addr: webservers
    services:
      - http
      - https
    state: present
    policy_action: accept
</pre>    <h2 id="return-values">Return Values</h2> <p>Common return values are documented here <a class="reference internal" href="../common_return_values/"><span class="doc">Return Values</span></a>, the following are the fields unique to this module:</p> <table> <tr> <th class="head">name</th> <th class="head">description</th> <th class="head">returned</th> <th class="head">type</th> <th class="head">sample</th> </tr> <tr> <td>firewall_address_config</td> <td> <div>full firewall addresses config string</div> </td> <td align="center">always</td> <td align="center">string</td> <td align="center"></td> </tr> <tr> <td>change_string</td> <td> <div>The commands executed by the module</div> </td> <td align="center">only if config changed</td> <td align="center">string</td> <td align="center"></td> </tr> <tr> <td>msg_error_list</td> <td> <div>List of errors returned by CLI (use -vvv for better readability).</div> </td> <td align="center">only when error</td> <td align="center">string</td> <td align="center"></td> </tr> </table>   <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="first admonition-title">Note</p> <ul class="last simple"> <li>This module requires pyFG library.</li> </ul> </div>  <h3 id="status">Status</h3> <p>This module is flagged as <strong>preview</strong> which means that it is not guaranteed to have a backwards compatible interface.</p> <p>For help in developing on modules, should you be so inclined, please read <a class="reference internal" href="https://docs.ansible.com/ansible/latest/community.html" target="_blank"><span class="doc">Community Information &amp; Contributing</span></a>, <a class="reference internal" href="../dev_guide/testing/"><span class="doc">Testing Ansible</span></a> and <a class="reference internal" href="../dev_guide/developing_modules/"><span class="doc">Developing Modules</span></a>.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2017 Michael DeHaan<br>© 2017 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/fortios_ipv4_policy_module.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/latest/fortios_ipv4_policy_module.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
