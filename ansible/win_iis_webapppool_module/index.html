
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Win_iis_webapppool - Ansible - W3cubDocs</title>
  
  <meta name="description" content=" New in version 2.0. ">
  <meta name="keywords" content="win, iis, webapppool, -, configures, web, application, pool, ansible">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/ansible/win_iis_webapppool_module/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-e0f881b0fce8cbe96f33dadc355b7159d5d2912911231446d60eb8f9caffa802.css">
  <script type="text/javascript" src="/assets/application-8fc46316434047265cd383f02b8e7f434ed7dec4a59f920dd633deef8d488d1b.js"></script>
  <script src="/json/ansible.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ansible/" class="_nav-link" title="" style="margin-left:0;">Ansible</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx">
				
<h1 id="win-iis-webapppool">win_iis_webapppool - configures an IIS Web Application Pool</h1> <div class="versionadded" id="win-iis-webapppool-configures-an-iis-web-application-pool"> <p><span class="versionmodified">New in version 2.0.</span></p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#options" id="id2">Options</a></li> <li><a class="reference internal" href="#examples" id="id3">Examples</a></li> <li>
<a class="reference internal" href="#return-values" id="id4">Return Values</a><ul> <li><a class="reference internal" href="#status" id="id5">Status</a></li> </ul> </li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Creates, removes and configures an IIS Web Application Pool.</li> </ul>   <h2 id="options">Options</h2> <table> <tr> <th class="head">parameter</th> <th class="head">required</th> <th class="head">default</th> <th class="head">choices</th> <th class="head">comments</th> </tr> <tr> <td>attributes<br>
</td> <td>no</td> <td></td> <td></td> <td> <div>As of Ansible 2.4, this field can take in dict entries to set the application pool attributes.</div> <div>These attributes are based on the naming standard at <a href="https://www.iis.net/configreference/system.applicationhost/applicationpools/add#005" target="_blank">https://www.iis.net/configreference/system.applicationhost/applicationpools/add#005</a>, see the examples section for more details on how to set this.</div> <div>You can also set the attributes of child elements like cpu and processModel, see the examples to see how it is done.</div> <div>While you can use the numeric values for enums it is recommended to use the enum name itself, e.g. use SpecificUser instead of 3 for processModel.identityType.</div> <div>managedPipelineMode may be either "Integrated" or "Classic".</div> <div>startMode may be either "OnDemand" or "AlwaysRunning".</div> <div>Use <code>state</code> module parameter to modify the state of the app pool.</div> <div>When trying to set 'processModel.password' and you receive a 'Value does fall within the expected range' error, you have a corrupted keystore. Please follow <a href="http://structuredsight.com/2014/10/26/im-out-of-range-youre-out-of-range/" target="_blank">http://structuredsight.com/2014/10/26/im-out-of-range-youre-out-of-range/</a> to help fix your host.</div> <div>DEPRECATED As of Ansible 2.4 this field should be set using a dict form, in older versions of Ansible this field used to be a string.</div> <div>This string has attributes that are separated by a pipe '|' and attribute name/values by colon ':' Ex. "startMode:OnDemand|managedPipelineMode:Classic".</div> </td> </tr> <tr> <td>name<br>
</td> <td>yes</td> <td></td> <td></td> <td> <div>Name of the application pool.</div> </td> </tr> <tr> <td>state<br>
</td> <td>no</td> <td>present</td> <td><ul>
<li>present</li>
<li>absent</li>
<li>stopped</li>
<li>started</li>
<li>restarted</li>
</ul></td> <td> <div>The state of the application pool.</div> <div>If <code>present</code> will ensure the app pool is configured and exists.</div> <div>If <code>absent</code> will ensure the app pool is removed.</div> <div>If <code>stopped</code> will ensure the app pool exists and is stopped.</div> <div>If <code>started</code> will ensure the app pool exists and is started.</div> <div>If <code>restarted</code> will ensure the app pool exists and will restart, this is never idempotent.</div> </td> </tr> </table>   <h2 id="examples">Examples</h2>  <pre data-language="YAML">- name: return information about an existing application pool
  win_iis_webapppool:
    name: DefaultAppPool
    state: present

- name: create a new application pool in 'Started' state
  win_iis_webapppool:
    name: AppPool
    state: started

- name: stop an application pool
  win_iis_webapppool:
    name: AppPool
    state: stopped

- name: restart an application pool (non-idempotent)
  win_iis_webapppool:
    name: AppPool
    state: restart

- name: change application pool attributes using new dict style
  win_iis_webapppool:
    name: AppPool
    attributes:
      managedRuntimeVersion: v4.0
      autoStart: false

# Note this format style has been deprecated, please use the newer dict style instead
- name: change application pool attributes using older string style
  win_iis_webapppool:
    name: AppPool
    attributes: 'managedRuntimeVersion:v4.0|autoStart:false'

# This is the preferred style to use when setting attributes
- name: creates an application pool, sets attributes and starts it
  win_iis_webapppool:
    name: AnotherAppPool
    state: started
    attributes:
      managedRuntimeVersion: v4.0
      autoStart: false

# In the below example we are setting attributes in child element processModel
# https://www.iis.net/configreference/system.applicationhost/applicationpools/add/processmodel
- name: manage child element and set identity of application pool
  win_iis_webapppool:
    name: IdentitiyAppPool
    state: started
    attributes:
      managedPipelineMode: Classic
      processModel.identityType: SpecificUser
      processModel.username: '{{ansible_user}}'
      processModel.password: '{{ansible_password}}'
      processModel.loadUserProfile: True

- name: manage a timespan attribute
  win_iis_webapppool:
    name: TimespanAppPool
    state: started
    attributes:
      # Timespan with full string "day:hour:minute:second.millisecond"
      recycling.periodicRestart.time: "00:00:05:00.000000"
      # Shortened timespan "hour:minute:second"
      processModel.pingResponseTime: "00:03:00"
</pre>    <h2 id="return-values">Return Values</h2> <p>Common return values are documented here <a class="reference internal" href="../common_return_values/"><span class="doc">Return Values</span></a>, the following are the fields unique to this module:</p> <table> <tr> <th class="head">name</th> <th class="head">description</th> <th class="head">returned</th> <th class="head">type</th> <th class="head">sample</th> </tr> <tr> <td>info</td> <td> <div>Information on current state of the Application Pool. See https://www.iis.net/configreference/system.applicationhost/applicationpools/add#005 for the full list of return attributes based on your IIS version.</div> </td> <td align="center">success</td> <td align="center">complex</td> <td align="center">None</td> </tr> <tr> <td>contains:</td> <td colspan="4"> <table> <tr> <th class="head">name</th> <th class="head">description</th> <th class="head">returned</th> <th class="head">type</th> <th class="head">sample</th> </tr> <tr> <td>failure</td> <td> <div>Key value pairs showing the current Application Pool failure attributes.</div> </td> <td align="center">success</td> <td align="center">dictionary</td> <td align="center">{'autoShutdownExe': '', 'orphanActionExe': '', 'rapidFailProtextionInterval': {'Hours': 0, 'Days': 0}}</td> </tr> <tr> <td>state</td> <td> <div>Current runtime state of the pool as the module completed.</div> </td> <td align="center">success</td> <td align="center">string</td> <td align="center">Started</td> </tr> <tr> <td>name</td> <td> <div>Name of Application Pool that was processed by this module invocation.</div> </td> <td align="center">success</td> <td align="center">string</td> <td align="center">DefaultAppPool</td> </tr> <tr> <td>attributes</td> <td> <div>Key value pairs showing the current Application Pool attributes.</div> </td> <td align="center">success</td> <td align="center">dictionary</td> <td align="center">{'managedRuntimeLoader': 'webengine4.dll', 'applicationPoolSid': 'S-1-5-82-1352790163-598702362-1775843902-1923651883-1762956711', 'managedPipelineMode': 'Classic', 'enable32BitAppOnWin64': True, 'name': 'DefaultAppPool', 'passAnonymousToken': True, 'CLRConfigFile': '', 'queueLength': 1000, 'state': 'Started', 'enableConfigurationOverride': True, 'autoStart': True, 'startMode': 'OnDemand', 'managedRuntimeVersion': 'v4.0'}</td> </tr> <tr> <td>processModel</td> <td> <div>Key value pairs showing the current Application Pool processModel attributes.</div> </td> <td align="center">success</td> <td align="center">dictionary</td> <td align="center">{'logonType': 'LogonBatch', 'identityType': 'ApplicationPoolIdentity', 'pingInterval': {'Hours': 0, 'Days': 0}}</td> </tr> <tr> <td>recycling</td> <td> <div>Key value pairs showing the current Application Pool recycling attributes.</div> </td> <td align="center">success</td> <td align="center">dictionary</td> <td align="center">{'disallowOverlappingRotation': False, 'disallowRotationOnConfigChange': False, 'logEventOnRecycle': 'Time,Requests,Schedule,Memory,IsapiUnhealthy,OnDemand,ConfigChange,PrivateMemory'}</td> </tr> <tr> <td>cpu</td> <td> <div>Key value pairs showing the current Application Pool cpu attributes.</div> </td> <td align="center">success</td> <td align="center">dictionary</td> <td align="center">{'action': 'NoAction', 'limit': 0, 'resetInterval': {'Hours': 0, 'Days': 0}}</td> </tr> </table> </td> </tr> <tr> <td>attributes</td> <td> <div>Application Pool attributes that were set and processed by this module invocation.</div> </td> <td align="center">success</td> <td align="center">dictionary</td> <td align="center">{'managedPipelineMode': 'Classic', 'enable32BitAppOnWin64': 'true', 'managedRuntimeVersion': 'v4.0'}</td> </tr> </table>  <h3 id="status">Status</h3> <p>This module is flagged as <strong>preview</strong> which means that it is not guaranteed to have a backwards compatible interface.</p> <p>For help in developing on modules, should you be so inclined, please read <a class="reference internal" href="https://docs.ansible.com/ansible/latest/community.html" target="_blank"><span class="doc">Community Information &amp; Contributing</span></a>, <a class="reference internal" href="../dev_guide/testing/"><span class="doc">Testing Ansible</span></a> and <a class="reference internal" href="../dev_guide/developing_modules/"><span class="doc">Developing Modules</span></a>.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2017 Michael DeHaan<br>© 2017 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/win_iis_webapppool_module.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/latest/win_iis_webapppool_module.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
