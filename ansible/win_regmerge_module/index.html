
<!DOCTYPE HTML>

<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Win_regmerge - Ansible - W3cubDocs</title>
  
  <meta name="description" content=" New in version 2.1. ">
  <meta name="keywords" content="win, regmerge, -, merges, contents, registry, file, into, windows, ansible">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="mobile-web-app-capable" content="yes">
  
  <link rel="canonical" href="http://docs.w3cub.com/ansible/win_regmerge_module/">
  <link href="/favicon.png" rel="icon">
  <link type="text/css" rel="stylesheet" href="/assets/application-e0f881b0fce8cbe96f33dadc355b7159d5d2912911231446d60eb8f9caffa802.css">
  <script type="text/javascript" src="/assets/application-8fc46316434047265cd383f02b8e7f434ed7dec4a59f920dd633deef8d488d1b.js"></script>
  <script src="/json/ansible.js"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-71174418-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body>
	<div class="_app">
	<header class="_header">
  
  <form class="_search">
    <input type="search" class="_search-input" placeholder="Search&hellip;" autocomplete="off" autocapitalize="off" autocorrect="off" spellcheck="false" maxlength="20">
    <a class="_search-clear"></a>
    <div class="_search-tag"></div>
  </form>
  
  <a class="_home-link" href="/" ></a>
  <a class="_menu-link"></a>
  <h1 class="_logo">
    <a href="/" class="_nav-link" title="API Documentation Browser">W3cubDocs</a>
  </h1>
  
  <span class="_logo-sub-nav">/</span><span class="_logo-sub-nav"><a href="/ansible/" class="_nav-link" title="" style="margin-left:0;">Ansible</a></span>
  
  <nav class="_nav">
    <a href="/app/" class="_nav-link ">App</a>
    <a href="/about/" class="_nav-link ">About</a>
  </nav>
</header>
	<section class="_sidebar">
		<div class="_list">
			
		</div>
	</section>
	<section class="_container ">
		<div class="_content">
			<div class="_page _sphinx">
				
<h1 id="win-regmerge">win_regmerge - Merges the contents of a registry file into the windows registry</h1> <div class="versionadded" id="win-regmerge-merges-the-contents-of-a-registry-file-into-the-windows-registry"> <p><span class="versionmodified">New in version 2.1.</span></p> </div>  <ul class="simple"> <li><a class="reference internal" href="#synopsis" id="id1">Synopsis</a></li> <li><a class="reference internal" href="#options" id="id2">Options</a></li> <li><a class="reference internal" href="#examples" id="id3">Examples</a></li> <li><a class="reference internal" href="#return-values" id="id4">Return Values</a></li> <li>
<a class="reference internal" href="#notes" id="id5">Notes</a><ul> <li><a class="reference internal" href="#status" id="id6">Status</a></li> </ul> </li> </ul>   <h2 id="synopsis">Synopsis</h2> <ul class="simple"> <li>Wraps the reg.exe command to import the contents of a registry file.</li> <li>Suitable for use with registry files created using <a class="reference internal" href="../win_template_module/#win-template"><span class="std std-ref">win_template</span></a>.</li> <li>Windows registry files have a specific format and must be constructed correctly with carriage return and line feed line endings otherwise they will not be merged.</li> <li>Exported registry files often start with a Byte Order Mark which must be removed if the file is to templated using <a class="reference internal" href="../win_template_module/#win-template"><span class="std std-ref">win_template</span></a>.</li> <li>Registry file format is described at <a class="reference external" href="https://support.microsoft.com/en-us/kb/310516" target="_blank">https://support.microsoft.com/en-us/kb/310516</a>
</li> <li>See also <a class="reference internal" href="../win_template_module/#win-template"><span class="std std-ref">win_template</span></a>, <a class="reference internal" href="../win_regedit_module/#win-regedit"><span class="std std-ref">win_regedit</span></a>
</li> </ul>   <h2 id="options">Options</h2> <table> <tr> <th class="head">parameter</th> <th class="head">required</th> <th class="head">default</th> <th class="head">choices</th> <th class="head">comments</th> </tr> <tr> <td>compare_key<br>
</td> <td>no</td> <td>no default</td> <td></td> <td> <div>The parent key to use when comparing the contents of the registry to the contents of the file. Needs to be in HKLM or HKCU part of registry. Use a PS-Drive style path for example HKLM:\SOFTWARE not HKEY_LOCAL_MACHINE\SOFTWARE If not supplied, or the registry key is not found, no comparison will be made, and the module will report changed.</div> </td> </tr> <tr> <td>path<br>
</td> <td>yes</td> <td>no default</td> <td></td> <td> <div>The full path including file name to the registry file on the remote machine to be merged</div> </td> </tr> </table>   <h2 id="examples">Examples</h2>  <pre data-language="YAML"># Merge in a registry file without comparing to current registry
# Note that paths using / to separate are preferred as they require less special handling than \
win_regmerge:
  path: C:/autodeploy/myCompany-settings.reg
# Compare and merge registry file
win_regmerge:
  path: C:/autodeploy/myCompany-settings.reg
  compare_to: HKLM:\SOFTWARE\myCompany
</pre>    <h2 id="return-values">Return Values</h2> <p>Common return values are documented here <a class="reference internal" href="../common_return_values/"><span class="doc">Return Values</span></a>, the following are the fields unique to this module:</p> <table> <tr> <th class="head">name</th> <th class="head">description</th> <th class="head">returned</th> <th class="head">type</th> <th class="head">sample</th> </tr> <tr> <td>difference_count</td> <td> <div>number of differences between the registry and the file</div> </td> <td align="center">changed</td> <td align="center">int</td> <td align="center">1</td> </tr> <tr> <td>compared</td> <td> <div>whether a comparison has taken place between the registry and the file</div> </td> <td align="center">when a comparison key has been supplied and comparison has been attempted</td> <td align="center">boolean</td> <td align="center">True</td> </tr> <tr> <td>compare_to_key_found</td> <td> <div>whether the parent registry key has been found for comparison</div> </td> <td align="center">when comparison key not found in registry</td> <td align="center">boolean</td> <td align="center">False</td> </tr> </table>   <h2 id="notes">Notes</h2> <div class="admonition note"> <p class="first admonition-title">Note</p> <ul class="last simple"> <li>Organise your registry files so that they contain a single root registry key if you want to use the compare_to functionality. This module does not force registry settings to be in the state described in the file. If registry settings have been modified externally the module will merge the contents of the file but continue to report differences on subsequent runs. To force registry change, use <a class="reference internal" href="../win_regedit_module/#win-regedit"><span class="std std-ref">win_regedit</span></a> with state=absent before using <a class="reference internal" href="#win-regmerge"><span class="std std-ref">win_regmerge</span></a>.</li> </ul> </div>  <h3 id="status">Status</h3> <p>This module is flagged as <strong>preview</strong> which means that it is not guaranteed to have a backwards compatible interface.</p> <p>For help in developing on modules, should you be so inclined, please read <a class="reference internal" href="https://docs.ansible.com/ansible/latest/community.html" target="_blank"><span class="doc">Community Information &amp; Contributing</span></a>, <a class="reference internal" href="../dev_guide/testing/"><span class="doc">Testing Ansible</span></a> and <a class="reference internal" href="../dev_guide/developing_modules/"><span class="doc">Developing Modules</span></a>.</p>
<div class="_attribution">
  <p class="_attribution-p">
    © 2012–2017 Michael DeHaan<br>© 2017 Red Hat, Inc.<br>Licensed under the GNU General Public License version 3.<br>
    <a href="https://docs.ansible.com/ansible/latest/win_regmerge_module.html" class="_attribution-link" target="_blank">https://docs.ansible.com/ansible/latest/win_regmerge_module.html</a>
  </p>
</div>

			</div>
		</div>
	</section>

	</div>
	<svg style="display:none">
		<symbol id="icon-dir"><svg viewBox="0 0 20 20"><path d="M15 10c0 .3-.305.515-.305.515l-8.56 5.303c-.625.41-1.135.106-1.135-.67V4.853c0-.777.51-1.078 1.135-.67l8.56 5.305S15 9.702 15 10z"/></svg></symbol>
	  </svg>
</body>
</html>
